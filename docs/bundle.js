var app=function(){"use strict";function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function r(e){return e()}function o(){return Object.create(null)}function i(e){e.forEach(r)}function a(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function u(e,t,n){const r=t.subscribe(n);e.$$.on_destroy.push(r.unsubscribe?()=>r.unsubscribe():r)}let c="undefined"!=typeof window?()=>window.performance.now():()=>Date.now(),l=e=>requestAnimationFrame(e);const f=new Set;let d,p=!1;function h(){f.forEach(e=>{e[0](c())||(f.delete(e),e[1]())}),(p=f.size>0)&&l(h)}function m(e){let t;return p||(p=!0,l(h)),{promise:new Promise(n=>{f.add(t=[e,n])}),abort(){f.delete(t)}}}function g(e,t){e.appendChild(t)}function b(e,t,n){e.insertBefore(t,n||null)}function v(e){e.parentNode.removeChild(e)}function y(e){return document.createElement(e)}function $(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function w(e){return document.createTextNode(e)}function x(){return w(" ")}function O(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function E(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function j(e,t){t=""+t,e.data!==t&&(e.data=t)}function P(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}}let A,z=0,k={};function S(e,t,n,r,o,i,a,s=0){const u=16.666/r;let c="{\n";for(let e=0;e<=1;e+=u){const r=t+(n-t)*i(e);c+=100*e+`%{${a(r,1-r)}}\n`}const l=c+`100% {${a(n,1-n)}}\n}`,f=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(l)}_${s}`;if(!k[f]){if(!d){const e=y("style");document.head.appendChild(e),d=e.sheet}k[f]=!0,d.insertRule(`@keyframes ${f} ${l}`,d.cssRules.length)}const p=e.style.animation||"";return e.style.animation=`${p?`${p}, `:""}${f} ${r}ms linear ${o}ms 1 both`,z+=1,f}function _(e,t){e.style.animation=(e.style.animation||"").split(", ").filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")).join(", "),t&&!--z&&l(()=>{if(z)return;let e=d.cssRules.length;for(;e--;)d.deleteRule(e);k={}})}function R(e){A=e}function N(){if(!A)throw new Error("Function called outside component initialization");return A}function C(e,t){N().$$.context.set(e,t)}function M(e){return N().$$.context.get(e)}const T=[],F=[],D=[],I=[],q=Promise.resolve();let L,U=!1;function W(e){D.push(e)}function B(){const e=new Set;do{for(;T.length;){const e=T.shift();R(e),K(e.$$)}for(;F.length;)F.pop()();for(let t=0;t<D.length;t+=1){const n=D[t];e.has(n)||(n(),e.add(n))}D.length=0}while(T.length);for(;I.length;)I.pop()();U=!1}function K(e){e.fragment&&(e.update(e.dirty),i(e.before_update),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_update.forEach(W))}function G(){return L||(L=Promise.resolve()).then(()=>{L=null}),L}function X(e,t,n){e.dispatchEvent(function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(`${t?"intro":"outro"}${n}`))}const H=new Set;let J;function V(e,t){e&&e.i&&(H.delete(e),e.i(t))}function Y(e,t,n,r){if(e&&e.o){if(H.has(e))return;H.add(e),J.c.push(()=>{H.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}}function Z(n,r,o,s){let u=r(n,o),l=s?0:1,f=null,d=null,p=null;function h(){p&&_(n,p)}function g(e,t){const n=e.b-l;return t*=Math.abs(n),{a:l,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function b(r){const{delay:o=0,duration:a=300,easing:s=t,tick:b=e,css:v}=u,y={start:c()+o,b:r};r||(y.group=J,J.r+=1),f?d=y:(v&&(h(),p=S(n,l,r,a,o,s,v)),r&&b(0,1),f=g(y,a),W(()=>X(n,r,"start")),m(e=>{if(d&&e>d.start&&(f=g(d,a),d=null,X(n,f.b,"start"),v&&(h(),p=S(n,l,f.b,f.duration,0,s,u.css))),f)if(e>=f.end)b(l=f.b,1-l),X(n,f.b,"end"),d||(f.b?h():--f.group.r||i(f.group.c)),f=null;else if(e>=f.start){const t=e-f.start;l=f.a+f.d*s(t/f.duration),b(l,1-l)}return!(!f&&!d)}))}return{run(e){a(u)?G().then(()=>{u=u(),b(e)}):b(e)},end(){h(),f=d=null}}}function Q(e,t){Y(e,1,1,()=>{t.delete(e.key)})}function ee(e,t,n){const{fragment:o,on_mount:s,on_destroy:u,after_update:c}=e.$$;o.m(t,n),W(()=>{const t=s.map(r).filter(a);u?u.push(...t):i(t),e.$$.on_mount=[]}),c.forEach(W)}function te(e,t){e.$$.fragment&&(i(e.$$.on_destroy),e.$$.fragment.d(t),e.$$.on_destroy=e.$$.fragment=null,e.$$.ctx={})}function ne(e,t){e.$$.dirty||(T.push(e),U||(U=!0,q.then(B)),e.$$.dirty=o()),e.$$.dirty[t]=!0}function re(t,n,r,a,s,u){const c=A;R(t);const l=n.props||{},f=t.$$={fragment:null,ctx:null,props:u,update:e,not_equal:s,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:o(),dirty:null};let d=!1;var p;f.ctx=r?r(t,l,(e,n)=>{f.ctx&&s(f.ctx[e],f.ctx[e]=n)&&(f.bound[e]&&f.bound[e](n),d&&ne(t,e))}):l,f.update(),d=!0,i(f.before_update),f.fragment=a(f.ctx),n.target&&(n.hydrate?f.fragment.l((p=n.target,Array.from(p.childNodes))):f.fragment.c(),n.intro&&V(t.$$.fragment),ee(t,n.target,n.anchor),B()),R(c)}class oe{$destroy(){te(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}function ie(e){const t=e-1;return t*t*t+1}function ae(e,{delay:t=0,duration:n=400,easing:r=ie,x:o=0,y:i=0,opacity:a=0}){const s=getComputedStyle(e),u=+s.opacity,c="none"===s.transform?"":s.transform,l=u*(1-a);return{delay:t,duration:n,easing:r,css:(e,t)=>`\n\t\t\ttransform: ${c} translate(${(1-e)*o}px, ${(1-e)*i}px);\n\t\t\topacity: ${u-l*t}`}}function se(e,{delay:t=0,duration:n=400,easing:r=ie}){const o=getComputedStyle(e),i=+o.opacity,a=parseFloat(o.height),s=parseFloat(o.paddingTop),u=parseFloat(o.paddingBottom),c=parseFloat(o.marginTop),l=parseFloat(o.marginBottom),f=parseFloat(o.borderTopWidth),d=parseFloat(o.borderBottomWidth);return{delay:t,duration:n,easing:r,css:e=>"overflow: hidden;"+`opacity: ${Math.min(20*e,1)*i};`+`height: ${e*a}px;`+`padding-top: ${e*s}px;`+`padding-bottom: ${e*u}px;`+`margin-top: ${e*c}px;`+`margin-bottom: ${e*l}px;`+`border-top-width: ${e*f}px;`+`border-bottom-width: ${e*d}px;`}}function ue(e,t,n){const r=Object.create(e);return r.option=t[n],r}function ce(e){var t,n,r,o,i=e.option;return{c(){t=y("option"),n=w(i),r=x(),t.__value=o=e.option,t.value=t.__value},m(e,o){b(e,t,o),g(t,n),g(t,r)},p(e,r){e.options&&i!==(i=r.option)&&j(n,i),e.options&&o!==(o=r.option)&&(t.__value=o),t.value=t.__value},d(e){e&&v(t)}}}function le(t){for(var n,r,o,a,s,u,c,l,f=t.options,d=[],p=0;p<f.length;p+=1)d[p]=ce(ue(t,f,p));return{c(){n=y("div"),r=y("div"),o=w(t.label),a=x(),s=y("select");for(var e=0;e<d.length;e+=1)d[e].c();u=x(),c=w(t.current),void 0===t.current&&W(()=>t.select_change_handler.call(s)),E(s,"class","svelte-pya21e"),E(n,"class","selector svelte-pya21e"),l=[O(s,"change",t.select_change_handler),O(s,"change",t.change_handler)]},m(e,i){b(e,n,i),g(n,r),g(r,o),g(n,a),g(n,s);for(var l=0;l<d.length;l+=1)d[l].m(s,null);P(s,t.current),g(n,u),g(n,c)},p(e,t){if(e.label&&j(o,t.label),e.options){f=t.options;for(var n=0;n<f.length;n+=1){const r=ue(t,f,n);d[n]?d[n].p(e,r):(d[n]=ce(r),d[n].c(),d[n].m(s,null))}for(;n<d.length;n+=1)d[n].d(1);d.length=f.length}e.current&&P(s,t.current),e.current&&j(c,t.current)},i:e,o:e,d(e){e&&v(n),function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}(d,e),i(l)}}}function fe(e,t,n){let{label:r,options:o,current:i,onChange:a}=t;return e.$set=(e=>{"label"in e&&n("label",r=e.label),"options"in e&&n("options",o=e.options),"current"in e&&n("current",i=e.current),"onChange"in e&&n("onChange",a=e.onChange)}),{label:r,options:o,current:i,onChange:a,select_change_handler:function(){i=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),n("current",i),n("options",o)},change_handler:function(){return a(i)}}}class de extends oe{constructor(e){super(),re(this,e,fe,le,s,["label","options","current","onChange"])}}function pe(t,n=e){let r;const o=[];function i(e){if(s(t,e)){if(t=e,!r)return;o.forEach(e=>e[1]()),o.forEach(e=>e[0](t))}}return{set:i,update:function(e){i(e(t))},subscribe:function(a,s=e){const u=[a,s];return o.push(u),1===o.length&&(r=n(i)||e),a(t),()=>{const e=o.indexOf(u);-1!==e&&o.splice(e,1),0===o.length&&(r(),r=null)}}}}function he(t,n,r){const o=!Array.isArray(t),s=o?[t]:t,u=n.length<2,c=[],l={subscribe:pe(r,t=>{let r=!1;const l=[];let f=0,d=e;const p=()=>{if(f)return;d();const r=n(o?l[0]:l,t);u?t(r):d=a(r)?r:e},h=s.map((e,t)=>e.subscribe(e=>{l[t]=e,f&=~(1<<t),r&&p()},()=>{i(c),f|=1<<t}));return r=!0,p(),function(){i(h),d()}}).subscribe};return{subscribe(t,n=e){c.push(n);const r=l.subscribe(t,n);return()=>{const e=c.indexOf(n);-1!==e&&c.splice(e,1),r()}}}}var me,ge="undefined"!=typeof Symbol?Symbol("immer-nothing"):((me={})["immer-nothing"]=!0,me),be="undefined"!=typeof Symbol&&Symbol.for?Symbol.for("immer-draftable"):"__$immer_draftable",ve="undefined"!=typeof Symbol&&Symbol.for?Symbol.for("immer-state"):"__$immer_state";function ye(e){return!!e&&!!e[ve]}function $e(e){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e))return!0;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype||(!!e[be]||!!e.constructor[be])}var we=Object.assign||function(e,t){for(var n in t)Pe(t,n)&&(e[n]=t[n]);return e},xe="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function Oe(e,t){if(void 0===t&&(t=!1),Array.isArray(e))return e.slice();var n=Object.create(Object.getPrototypeOf(e));return xe(e).forEach(function(r){if(r!==ve){var o=Object.getOwnPropertyDescriptor(e,r),i=o.value;if(o.get){if(!t)throw new Error("Immer drafts cannot have computed properties");i=o.get.call(e)}o.enumerable?n[r]=i:Object.defineProperty(n,r,{value:i,writable:!0,configurable:!0})}}),n}function Ee(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(n,e[n],e);else xe(e).forEach(function(n){return t(n,e[n],e)})}function je(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!!n&&n.enumerable}function Pe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ae(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}var ze=function(e){this.drafts=[],this.parent=e,this.canAutoFreeze=!0,this.patches=null};function ke(e){e[ve].revoke()}ze.prototype.usePatches=function(e){e&&(this.patches=[],this.inversePatches=[],this.patchListener=e)},ze.prototype.revoke=function(){this.leave(),this.drafts.forEach(ke),this.drafts=null},ze.prototype.leave=function(){this===ze.current&&(ze.current=this.parent)},ze.current=null,ze.enter=function(){return this.current=new ze(this.current)};var Se={};function _e(e,t){var n=Array.isArray(e),r=Fe(e);Ee(r,function(t){!function(e,t,n){var r=Se[t];r?r.enumerable=n:Se[t]=r={configurable:!0,enumerable:n,get:function(){return function(e,t){De(e);var n=Ce(Ne(e),t);if(e.finalizing)return n;if(n===Ce(e.base,t)&&$e(n))return Te(e),e.copy[t]=_e(n,e);return n}(this[ve],t)},set:function(e){!function(e,t,n){if(De(e),e.assigned[t]=!0,!e.modified){if(Ae(n,Ce(Ne(e),t)))return;Me(e),Te(e)}e.copy[t]=n}(this[ve],t,e)}};Object.defineProperty(e,t,r)}(r,t,n||je(e,t))});var o,i,a,s=t?t.scope:ze.current;return o=r,i=ve,a={scope:s,modified:!1,finalizing:!1,finalized:!1,assigned:{},parent:t,base:e,draft:r,copy:null,revoke:Re,revoked:!1},Object.defineProperty(o,i,{value:a,enumerable:!1,writable:!0}),s.drafts.push(r),r}function Re(){this.revoked=!0}function Ne(e){return e.copy||e.base}function Ce(e,t){var n=e[ve];if(n&&!n.finalizing){n.finalizing=!0;var r=e[t];return n.finalizing=!1,r}return e[t]}function Me(e){e.modified||(e.modified=!0,e.parent&&Me(e.parent))}function Te(e){e.copy||(e.copy=Fe(e.base))}function Fe(e){var t=e&&e[ve];if(t){t.finalizing=!0;var n=Oe(t.draft,!0);return t.finalizing=!1,n}return Oe(e)}function De(e){if(!0===e.revoked)throw new Error("Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+JSON.stringify(Ne(e)))}function Ie(e){for(var t=e.length-1;t>=0;t--){var n=e[t][ve];n.modified||(Array.isArray(n.base)?Le(n)&&Me(n):qe(n)&&Me(n))}}function qe(e){for(var t=e.base,n=e.draft,r=Object.keys(n),o=r.length-1;o>=0;o--){var i=r[o],a=t[i];if(void 0===a&&!Pe(t,i))return!0;var s=n[i],u=s&&s[ve];if(u?u.base!==a:!Ae(s,a))return!0}return r.length!==Object.keys(t).length}function Le(e){var t=e.draft;if(t.length!==e.base.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!n||n.get)}var Ue=Object.freeze({willFinalize:function(e,t,n){e.drafts.forEach(function(e){e[ve].finalizing=!0}),n?ye(t)&&t[ve].scope===e&&Ie(e.drafts):(e.patches&&function e(t){if(t&&"object"==typeof t){var n=t[ve];if(n){var r=n.base,o=n.draft,i=n.assigned;if(Array.isArray(t)){if(Le(n)){if(Me(n),i.length=!0,o.length<r.length)for(var a=o.length;a<r.length;a++)i[a]=!1;else for(var s=r.length;s<o.length;s++)i[s]=!0;for(var u=0;u<o.length;u++)void 0===i[u]&&e(o[u])}}else Object.keys(o).forEach(function(t){void 0!==r[t]||Pe(r,t)?i[t]||e(o[t]):(i[t]=!0,Me(n))}),Object.keys(r).forEach(function(e){void 0!==o[e]||Pe(o,e)||(i[e]=!1,Me(n))})}}}(e.drafts[0]),Ie(e.drafts))},createProxy:_e});function We(e,t){var n=t?t.scope:ze.current,r={scope:n,modified:!1,finalized:!1,assigned:{},parent:t,base:e,draft:null,drafts:{},copy:null,revoke:null},o=Array.isArray(e)?Proxy.revocable([r],Ke):Proxy.revocable(r,Be),i=o.revoke,a=o.proxy;return r.draft=a,r.revoke=i,n.drafts.push(a),a}var Be={get:function(e,t){if(t===ve)return e;var n=e.drafts;if(!e.modified&&Pe(n,t))return n[t];var r=Ge(e)[t];if(e.finalized||!$e(r))return r;if(e.modified){if(r!==Xe(e.base,t))return r;n=e.copy}return n[t]=We(r,e)},has:function(e,t){return t in Ge(e)},ownKeys:function(e){return Reflect.ownKeys(Ge(e))},set:function(e,t,n){if(!e.modified){var r=Xe(e.base,t),o=n?Ae(r,n)||n===e.drafts[t]:Ae(r,n)&&t in e.base;if(o)return!0;He(e)}return e.assigned[t]=!0,e.copy[t]=n,!0},deleteProperty:function(e,t){(void 0!==Xe(e.base,t)||t in e.base)&&(e.assigned[t]=!1,He(e));e.copy&&delete e.copy[t];return!0},getOwnPropertyDescriptor:function(e,t){var n=Ge(e),r=Reflect.getOwnPropertyDescriptor(n,t);r&&(r.writable=!0,r.configurable=!Array.isArray(n)||"length"!==t);return r},defineProperty:function(){throw new Error("Object.defineProperty() cannot be used on an Immer draft")},getPrototypeOf:function(e){return Object.getPrototypeOf(e.base)},setPrototypeOf:function(){throw new Error("Object.setPrototypeOf() cannot be used on an Immer draft")}},Ke={};function Ge(e){return e.copy||e.base}function Xe(e,t){var n=e[ve],r=Reflect.getOwnPropertyDescriptor(n?Ge(n):e,t);return r&&r.value}function He(e){e.modified||(e.modified=!0,e.copy=we(Oe(e.base),e.drafts),e.drafts=null,e.parent&&He(e.parent))}Ee(Be,function(e,t){Ke[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Ke.deleteProperty=function(e,t){if(isNaN(parseInt(t)))throw new Error("Immer only supports deleting array indices");return Be.deleteProperty.call(this,e[0],t)},Ke.set=function(e,t,n){if("length"!==t&&isNaN(parseInt(t)))throw new Error("Immer only supports setting array indices and the 'length' property");return Be.set.call(this,e[0],t,n)};var Je=Object.freeze({willFinalize:function(){},createProxy:We});function Ve(e,t,n,r){Array.isArray(e.base)?function(e,t,n,r){var o,i,a=e.base,s=e.copy,u=e.assigned;s.length<a.length&&(a=(o=[s,a])[0],s=o[1],n=(i=[r,n])[0],r=i[1]);var c=s.length-a.length,l=0;for(;a[l]===s[l]&&l<a.length;)++l;var f=a.length;for(;f>l&&a[f-1]===s[f+c-1];)--f;for(var d=l;d<f;++d)if(u[d]&&s[d]!==a[d]){var p=t.concat([d]);n.push({op:"replace",path:p,value:s[d]}),r.push({op:"replace",path:p,value:a[d]})}for(var h=f!=a.length,m=n.length,g=f+c-1;g>=f;--g){var b=t.concat([g]);n[m+g-f]={op:"add",path:b,value:s[g]},h&&r.push({op:"remove",path:b})}h||r.push({op:"replace",path:t.concat(["length"]),value:a.length})}(e,t,n,r):function(e,t,n,r){var o=e.base,i=e.copy;Ee(e.assigned,function(e,a){var s=o[e],u=i[e],c=a?e in o?"replace":"add":"remove";if(s!==u||"replace"!==c){var l=t.concat(e);n.push("remove"===c?{op:c,path:l}:{op:c,path:l,value:u}),r.push("add"===c?{op:"remove",path:l}:"remove"===c?{op:"add",path:l,value:s}:{op:"replace",path:l,value:s})}})}(e,t,n,r)}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n],o=r.path;if(0===o.length&&"replace"===r.op)e=r.value;else{for(var i=e,a=0;a<o.length-1;a++)if(!(i=i[o[a]])||"object"!=typeof i)throw new Error("Cannot apply patch, path doesn't resolve: "+o.join("/"));var s=o[o.length-1];switch(r.op){case"replace":i[s]=r.value;break;case"add":Array.isArray(i)?i.splice(s,0,r.value):i[s]=r.value;break;case"remove":Array.isArray(i)?i.splice(s,1):delete i[s];break;default:throw new Error("Unsupported patch operation: "+r.op)}}}return e}var Ze={useProxies:"undefined"!=typeof Proxy&&"undefined"!=typeof Reflect,autoFreeze:"undefined"!=typeof process?"production"!==process.env.NODE_ENV:"verifyMinified"===function(){}.name,onAssign:null,onDelete:null,onCopy:null},Qe=function(e){we(this,Ze,e),this.setUseProxies(this.useProxies),this.produce=this.produce.bind(this)};Qe.prototype.produce=function(e,t,n){var r,o=this;if("function"==typeof e&&"function"!=typeof t){var i=t;t=e;var a=this;return function(e){var n=this;void 0===e&&(e=i);for(var r=[],o=arguments.length-1;o-- >0;)r[o]=arguments[o+1];return a.produce(e,function(e){return t.call.apply(t,[n,e].concat(r))})}}if("function"!=typeof t)throw new Error("The first or second argument to `produce` must be a function");if(void 0!==n&&"function"!=typeof n)throw new Error("The third argument to `produce` must be a function or undefined");if($e(e)){var s=ze.enter(),u=this.createProxy(e),c=!0;try{r=t(u),c=!1}finally{c?s.revoke():s.leave()}return r instanceof Promise?r.then(function(e){return s.usePatches(n),o.processResult(e,s)},function(e){throw s.revoke(),e}):(s.usePatches(n),this.processResult(r,s))}return void 0===(r=t(e))?e:r!==ge?r:void 0},Qe.prototype.createDraft=function(e){if(!$e(e))throw new Error("First argument to `createDraft` must be a plain object, an array, or an immerable object");var t=ze.enter(),n=this.createProxy(e);return n[ve].isManual=!0,t.leave(),n},Qe.prototype.finishDraft=function(e,t){var n=e&&e[ve];if(!n||!n.isManual)throw new Error("First argument to `finishDraft` must be a draft returned by `createDraft`");if(n.finalized)throw new Error("The given draft is already finalized");var r=n.scope;return r.usePatches(t),this.processResult(void 0,r)},Qe.prototype.setAutoFreeze=function(e){this.autoFreeze=e},Qe.prototype.setUseProxies=function(e){this.useProxies=e,we(this,e?Je:Ue)},Qe.prototype.applyPatches=function(e,t){return ye(e)?Ye(e,t):this.produce(e,function(e){return Ye(e,t)})},Qe.prototype.processResult=function(e,t){var n=t.drafts[0],r=void 0!==e&&e!==n;if(this.willFinalize(t,e,r),r){if(n[ve].modified)throw t.revoke(),new Error("An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.");$e(e)&&(e=this.finalize(e,null,t)),t.patches&&(t.patches.push({op:"replace",path:[],value:e}),t.inversePatches.push({op:"replace",path:[],value:n[ve].base}))}else e=this.finalize(n,[],t);return t.revoke(),t.patches&&t.patchListener(t.patches,t.inversePatches),e!==ge?e:void 0},Qe.prototype.finalize=function(e,t,n){var r=this,o=e[ve];if(!o)return Object.isFrozen(e)?e:this.finalizeTree(e,null,n);if(o.scope!==n)return e;if(!o.modified)return o.base;if(!o.finalized){if(o.finalized=!0,this.finalizeTree(o.draft,t,n),this.onDelete)if(this.useProxies){var i=o.assigned;for(var a in i)i[a]||this.onDelete(o,a)}else{var s=o.base,u=o.copy;Ee(s,function(e){Pe(u,e)||r.onDelete(o,e)})}this.onCopy&&this.onCopy(o),this.autoFreeze&&n.canAutoFreeze&&Object.freeze(o.copy),t&&n.patches&&Ve(o,t,n.patches,n.inversePatches)}return o.copy},Qe.prototype.finalizeTree=function(e,t,n){var r=this,o=e[ve];o&&(this.useProxies||(o.copy=Oe(o.draft,!0)),e=o.copy);var i=!!t&&!!n.patches,a=function(s,u,c){if(u===c)throw Error("Immer forbids circular references");var l=!!o&&c===e;if(ye(u)){var f=l&&i&&!o.assigned[s]?t.concat(s):null;if(ye(u=r.finalize(u,f,n))&&(n.canAutoFreeze=!1),Array.isArray(c)||je(c,s)?c[s]=u:Object.defineProperty(c,s,{value:u}),l&&u===o.base[s])return}else{if(l&&Ae(u,o.base[s]))return;$e(u)&&!Object.isFrozen(u)&&Ee(u,a)}l&&r.onAssign&&r.onAssign(o,s,u)};return Ee(e,a),e};var et=new Qe,tt=et.produce;et.setAutoFreeze.bind(et),et.setUseProxies.bind(et),et.applyPatches.bind(et),et.createDraft.bind(et),et.finishDraft.bind(et);const nt={product:["firefox","fenix"],channel:["release","beta","nightly"],os:["mac","windows","linux"],randomNumbers:[],isWaiting:!1},rt=pe({channel:"release",os:"mac",randomNumbers:[]}),ot=e=>{"AsyncFunction"===e.constructor.name?e(ot,()=>(function(e){let t;const n=e.subscribe(e=>t=e);return n.unsubscribe?n.unsubscribe():n(),t})(rt)):rt.update(t=>tt(t,e))},it=e=>e.length?Math.max(...e.map(e=>e.id),0)+1:0,at=e=>(...t)=>ot(e(...t)),st=e=>t=>{t.channel=e},ut=e=>t=>{t.os=e},ct=()=>100*Math.random(),lt=()=>e=>{e.randomNumbers.push({value:ct(),id:it(e.randomNumbers)})},ft=e=>t=>{const n=t.randomNumbers.findIndex(t=>t.id===e);t.randomNumbers[n].value=ct()},dt=e=>t=>{t.randomNumbers=t.randomNumbers.filter(t=>t.id!==e)},pt=e=>t=>{t.isWaiting=e},ht=()=>async e=>{e(e=>{e.randomNumbers=[]}),e(pt(!0)),await new Promise(e=>setTimeout(e,1e3)),new Array(10).fill(null).map(()=>e(lt())),e(pt(!1))},mt=he(rt,e=>({os:e.os,channel:e.channel})),gt=he(mt,e=>{return Object.keys(e).sort().map(t=>`${t}=${e[t]}`).join("&")});var bt={subscribe:rt.subscribe};function vt(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}var yt,$t=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wt(e){return new xt(e)}function xt(e){if(!(t=$t.exec(e)))throw new Error("invalid format: "+e);var t;this.fill=t[1]||" ",this.align=t[2]||">",this.sign=t[3]||"-",this.symbol=t[4]||"",this.zero=!!t[5],this.width=t[6]&&+t[6],this.comma=!!t[7],this.precision=t[8]&&+t[8].slice(1),this.trim=!!t[9],this.type=t[10]||""}function Ot(e,t){var n=vt(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}wt.prototype=xt.prototype,xt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Et={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Ot(100*e,t)},r:Ot,s:function(e,t){var n=vt(e,t);if(!n)return e+"";var r=n[0],o=n[1],i=o-(yt=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+vt(e,Math.max(0,t+i-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function jt(e){return e}var Pt,At,zt=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function kt(e){var t,n,r=e.grouping&&e.thousands?(t=e.grouping,n=e.thousands,function(e,r){for(var o=e.length,i=[],a=0,s=t[0],u=0;o>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),i.push(e.substring(o-=s,o+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return i.reverse().join(n)}):jt,o=e.currency,i=e.decimal,a=e.numerals?function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(e.numerals):jt,s=e.percent||"%";function u(e){var t=(e=wt(e)).fill,n=e.align,u=e.sign,c=e.symbol,l=e.zero,f=e.width,d=e.comma,p=e.precision,h=e.trim,m=e.type;"n"===m?(d=!0,m="g"):Et[m]||(null==p&&(p=12),h=!0,m="g"),(l||"0"===t&&"="===n)&&(l=!0,t="0",n="=");var g="$"===c?o[0]:"#"===c&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",b="$"===c?o[1]:/[%p]/.test(m)?s:"",v=Et[m],y=/[defgprs%]/.test(m);function $(e){var o,s,c,$=g,w=b;if("c"===m)w=v(e)+w,e="";else{var x=(e=+e)<0;if(e=v(Math.abs(e),p),h&&(e=function(e){e:for(var t,n=e.length,r=1,o=-1;r<n;++r)switch(e[r]){case".":o=t=r;break;case"0":0===o&&(o=r),t=r;break;default:if(o>0){if(!+e[r])break e;o=0}}return o>0?e.slice(0,o)+e.slice(t+1):e}(e)),x&&0==+e&&(x=!1),$=(x?"("===u?u:"-":"-"===u||"("===u?"":u)+$,w=("s"===m?zt[8+yt/3]:"")+w+(x&&"("===u?")":""),y)for(o=-1,s=e.length;++o<s;)if(48>(c=e.charCodeAt(o))||c>57){w=(46===c?i+e.slice(o+1):e.slice(o))+w,e=e.slice(0,o);break}}d&&!l&&(e=r(e,1/0));var O=$.length+e.length+w.length,E=O<f?new Array(f-O+1).join(t):"";switch(d&&l&&(e=r(E+e,E.length?f-w.length:1/0),E=""),n){case"<":e=$+e+w+E;break;case"=":e=$+E+e+w;break;case"^":e=E.slice(0,O=E.length>>1)+$+e+w+E.slice(O);break;default:e=E+$+e+w}return a(e)}return p=null==p?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),$.toString=function(){return e+""},$}return{format:u,formatPrefix:function(e,t){var n,r=u(((e=wt(e)).type="f",e)),o=3*Math.max(-8,Math.min(8,Math.floor((n=t,((n=vt(Math.abs(n)))?n[1]:NaN)/3)))),i=Math.pow(10,-o),a=zt[8+o/3];return function(e){return r(i*e)+a}}}}function St(e){return"[object Date]"===Object.prototype.toString.call(e)}function _t(e,t){if(e===t||e!=e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const n=t.map((t,n)=>_t(e[n],t));return e=>n.map(t=>t(e))}if("object"===n){if(!e||!t)throw new Error("Object cannot be null");if(St(e)&&St(t)){e=e.getTime();const n=(t=t.getTime())-e;return t=>new Date(e+t*n)}const n=Object.keys(t),r={};return n.forEach(n=>{r[n]=_t(e[n],t[n])}),e=>{const t={};return n.forEach(n=>{t[n]=r[n](e)}),t}}if("number"===n){const n=t-e;return t=>e+t*n}throw new Error(`Cannot interpolate ${n} values`)}function Rt(e){var t,n,r,o,a,s,u,c,l,f,d,p,h,m,P,A,z,k=e.fm(e.$tweenedNumber);return{c(){t=y("li"),n=y("div"),r=y("div"),o=w(k),a=x(),s=y("div"),u=$("svg"),c=$("rect"),l=x(),f=y("div"),(d=y("button")).textContent="randomize",p=x(),h=y("div"),(m=y("button")).textContent="delete",E(r,"class","svelte-1g94ju8"),E(c,"x","0"),E(c,"y","0"),E(c,"height","20"),E(c,"width",e.$tweenedNumber),E(c,"fill","rgba(255,255,255,.4)"),E(u,"width","100"),E(u,"height","20"),E(s,"class","svelte-1g94ju8"),E(f,"class","svelte-1g94ju8"),E(h,"class","svelte-1g94ju8"),E(n,"class","list-container svelte-1g94ju8"),z=[O(d,"click",e.randomizeNumber),O(m,"click",e.deleteNumber)]},m(e,i){b(e,t,i),g(t,n),g(n,r),g(r,o),g(n,a),g(n,s),g(s,u),g(u,c),g(n,l),g(n,f),g(f,d),g(n,p),g(n,h),g(h,m),A=!0},p(e,t){A&&!e.$tweenedNumber||k===(k=t.fm(t.$tweenedNumber))||j(o,k),A&&!e.$tweenedNumber||E(c,"width",t.$tweenedNumber)},i(e){A||(W(()=>{P||(P=Z(t,se,{duration:200},!0)),P.run(1)}),A=!0)},o(e){P||(P=Z(t,se,{duration:200},!1)),P.run(0),A=!1},d(e){e&&(v(t),P&&P.end()),i(z)}}}function Nt(e,r,o){let i,{id:a,value:s,onRandomize:l=M("randomizeNumber"),onDelete:f=M("deleteRandomNumber")}=r;const d=function(e,r={}){const o=pe(e);let i,a=e;function s(s,u){a=s;let l=i,f=!1,{delay:d=0,duration:p=400,easing:h=t,interpolate:g=_t}=n(n({},r),u);const b=c()+d;let v;return(i=m(t=>{if(t<b)return!0;f||(v=g(e,s),"function"==typeof p&&(p=p(e,s)),f=!0),l&&(l.abort(),l=null);const n=t-b;return n>p?(o.set(e=s),!1):(o.set(e=v(h(n/p))),!0)})).promise}return{set:s,update:(t,n)=>s(t(a,e),n),subscribe:o.subscribe}}(0,{duration:500,easing:ie});u(e,d,e=>{o("$tweenedNumber",i=e)});const p=At(",.2");return e.$set=(e=>{"id"in e&&o("id",a=e.id),"value"in e&&o("value",s=e.value),"onRandomize"in e&&o("onRandomize",l=e.onRandomize),"onDelete"in e&&o("onDelete",f=e.onDelete)}),e.$$.update=((e={value:1})=>{e.value&&d.set(s)}),{id:a,value:s,onRandomize:l,onDelete:f,randomizeNumber:()=>l(a),deleteNumber:()=>f(a),tweenedNumber:d,fm:p,$tweenedNumber:i}}Pt=kt({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),At=Pt.format,Pt.formatPrefix;class Ct extends oe{constructor(e){super(),re(this,e,Nt,Rt,s,["id","value","onRandomize","onDelete"])}}function Mt(e,t,n){const r=Object.create(e);return r.id=t[n].id,r.value=t[n].value,r.i=n,r}function Tt(e,t){var n,r,o=new Ct({props:{id:t.id,value:t.value}});return{key:e,first:null,c(){n=w(""),o.$$.fragment.c(),this.first=n},m(e,t){b(e,n,t),ee(o,e,t),r=!0},p(e,t){var n={};e.$STORE&&(n.id=t.id),e.$STORE&&(n.value=t.value),o.$set(n)},i(e){r||(V(o.$$.fragment,e),r=!0)},o(e){Y(o.$$.fragment,e),r=!1},d(e){e&&v(n),te(o,e)}}}function Ft(e){var t,n,r,o,a,s=[],u=new Map,c=e.$STORE.randomNumbers;const l=e=>e.id;for(var f=0;f<c.length;f+=1){let t=Mt(e,c,f),n=l(t);u.set(n,s[f]=Tt(n,t))}return{c(){for((t=y("button")).textContent="+ random number",n=x(),r=y("ul"),f=0;f<s.length;f+=1)s[f].c();E(t,"class","svelte-1jcy116"),E(r,"class","svelte-1jcy116"),a=O(t,"click",e.add)},m(e,i){for(b(e,t,i),b(e,n,i),b(e,r,i),f=0;f<s.length;f+=1)s[f].m(r,null);o=!0},p(e,t){const n=t.$STORE.randomNumbers;J={r:0,c:[],p:J},s=function(e,t,n,r,o,i,a,s,u,c,l,f){let d=e.length,p=i.length,h=d;const m={};for(;h--;)m[e[h].key]=h;const g=[],b=new Map,v=new Map;for(h=p;h--;){const e=f(o,i,h),s=n(e);let u=a.get(s);u?r&&u.p(t,e):(u=c(s,e)).c(),b.set(s,g[h]=u),s in m&&v.set(s,Math.abs(h-m[s]))}const y=new Set,$=new Set;function w(e){V(e,1),e.m(s,l),a.set(e.key,e),l=e.first,p--}for(;d&&p;){const t=g[p-1],n=e[d-1],r=t.key,o=n.key;t===n?(l=t.first,d--,p--):b.has(o)?!a.has(r)||y.has(r)?w(t):$.has(o)?d--:v.get(r)>v.get(o)?($.add(r),w(t)):(y.add(o),d--):(u(n,a),d--)}for(;d--;){const t=e[d];b.has(t.key)||u(t,a)}for(;p;)w(g[p-1]);return g}(s,e,l,1,t,n,u,r,Q,Tt,null,Mt),J.r||i(J.c),J=J.p},i(e){if(!o){for(var t=0;t<c.length;t+=1)V(s[t]);o=!0}},o(e){for(f=0;f<s.length;f+=1)Y(s[f]);o=!1},d(e){for(e&&(v(t),v(n),v(r)),f=0;f<s.length;f+=1)s[f].d();a()}}}function Dt(e,t,n){let r;return u(e,bt,e=>{n("$STORE",r=e)}),C("randomizeNumber",at(ft)),C("deleteRandomNumber",at(dt)),{add:at(lt),$STORE:r}}class It extends oe{constructor(e){super(),re(this,e,Dt,Ft,s,[])}}function qt(n){var r,o;return{c(){(r=y("div")).textContent='fetching from "server" (haha jk\n            it\'s fake)',E(r,"class","svelte-1fubiut")},m(e,t){b(e,r,t)},i(n){o||W(()=>{(o=function(n,r,o){let i,s,u=r(n,o),l=!1,f=0;function d(){i&&_(n,i)}function p(){const{delay:r=0,duration:o=300,easing:a=t,tick:p=e,css:h}=u;h&&(i=S(n,0,1,o,r,a,h,f++)),p(0,1);const g=c()+r,b=g+o;s&&s.abort(),l=!0,W(()=>X(n,!0,"start")),s=m(e=>{if(l){if(e>=b)return p(1,0),X(n,!0,"end"),d(),l=!1;if(e>=g){const t=a((e-g)/o);p(t,1-t)}}return l})}let h=!1;return{start(){h||(_(n),a(u)?(u=u(),G().then(p)):p())},invalidate(){h=!1},end(){l&&(d(),l=!1)}}}(r,ae,{y:-20,duration:300})).start()})},o:e,d(e){e&&v(r)}}}function Lt(e){var t,n,r,o,i,a,s,u,c,l,f,d,p,h,m,$,w=new de({props:{label:"os",current:e.$STORE.os,onChange:e.func,options:nt.os}}),j=new de({props:{label:"channel",current:e.$STORE.channel,onChange:e.func_1,options:nt.channel}}),P=e.$STORE.isWaiting&&qt(),A=new It({});return{c(){var m,g;t=y("main"),(n=y("h1")).textContent="Using Immer to make a global store",r=x(),(o=y("p")).textContent="This repository uses Immer to produce new states in one single global $STORE object.\n        Atomic updates to $STORE are handled through a produce function.",i=x(),(a=y("p")).innerHTML='\n\t\t\t        Try playing with these selectors. Take a look at the query string in the\n\t\t\t        URL. Read the source on <a href="https://github.com/hamilton/svelte-immer-example">Github</a>.\n\t\t\t    ',s=x(),u=y("div"),w.$$.fragment.c(),c=x(),j.$$.fragment.c(),l=x(),f=y("div"),(d=y("button")).textContent="Random set of 10",p=x(),P&&P.c(),h=x(),A.$$.fragment.c(),E(n,"class","svelte-1fubiut"),E(u,"class","svelte-1fubiut"),m="min-height",g="100px",f.style.setProperty(m,g),E(f,"class","svelte-1fubiut"),E(t,"class","svelte-1fubiut"),$=O(d,"click",e.requestFromAPI)},m(e,v){b(e,t,v),g(t,n),g(t,r),g(t,o),g(t,i),g(t,a),g(t,s),g(t,u),ee(w,u,null),g(u,c),ee(j,u,null),g(t,l),g(t,f),g(f,d),g(f,p),P&&P.m(f,null),g(t,h),ee(A,t,null),m=!0},p(e,t){var n={};e.$STORE&&(n.current=t.$STORE.os),(e.dispatch||e.changeOS)&&(n.onChange=t.func),e.options&&(n.options=nt.os),w.$set(n);var r={};e.$STORE&&(r.current=t.$STORE.channel),(e.dispatch||e.changeChannel)&&(r.onChange=t.func_1),e.options&&(r.options=nt.channel),j.$set(r),t.$STORE.isWaiting?P?V(P,1):((P=qt()).c(),V(P,1),P.m(f,null)):P&&(P.d(1),P=null)},i(e){m||(V(w.$$.fragment,e),V(j.$$.fragment,e),V(P),V(A.$$.fragment,e),m=!0)},o(e){Y(w.$$.fragment,e),Y(j.$$.fragment,e),Y(A.$$.fragment,e),m=!1},d(e){e&&v(t),te(w),te(j),P&&P.d(),te(A),$()}}}function Ut(e,t,n){let r,o;u(e,gt,e=>{n("$queryString",r=e)}),u(e,bt,e=>{n("$STORE",o=e)});const i=at(ht);return e.$$.update=((e={$queryString:1})=>{e.$queryString&&function(e){if(history.pushState){const e=window.location.protocol+"//"+window.location.host+window.location.pathname+`?${r}`;window.history.pushState({path:e},"",e)}}()}),{requestFromAPI:i,$STORE:o,func:function(e){return ot(ut(e))},func_1:function(e){return ot(st(e))}}}return new class extends oe{constructor(e){super(),re(this,e,Ut,Lt,s,[])}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
