var app=function(){"use strict";function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function r(e){return e()}function o(){return Object.create(null)}function i(e){e.forEach(r)}function a(e){return"function"==typeof e}function u(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(e,t,n){const r=t.subscribe(n);e.$$.on_destroy.push(r.unsubscribe?()=>r.unsubscribe():r)}let c="undefined"!=typeof window?()=>window.performance.now():()=>Date.now(),l=e=>requestAnimationFrame(e);const f=new Set;let d,p=!1;function h(){f.forEach(e=>{e[0](c())||(f.delete(e),e[1]())}),(p=f.size>0)&&l(h)}function m(e){let t;return p||(p=!0,l(h)),{promise:new Promise(n=>{f.add(t=[e,n])}),abort(){f.delete(t)}}}function g(e,t){e.appendChild(t)}function v(e,t,n){e.insertBefore(t,n||null)}function b(e){e.parentNode.removeChild(e)}function y(e){return document.createElement(e)}function w(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function $(e){return document.createTextNode(e)}function x(){return $(" ")}function O(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function E(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function j(e,t){t=""+t,e.data!==t&&(e.data=t)}function P(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}}let z,A=0,_={};function k(e,t,n,r,o,i,a,u=0){const s=16.666/r;let c="{\n";for(let e=0;e<=1;e+=s){const r=t+(n-t)*i(e);c+=100*e+`%{${a(r,1-r)}}\n`}const l=c+`100% {${a(n,1-n)}}\n}`,f=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(l)}_${u}`;if(!_[f]){if(!d){const e=y("style");document.head.appendChild(e),d=e.sheet}_[f]=!0,d.insertRule(`@keyframes ${f} ${l}`,d.cssRules.length)}const p=e.style.animation||"";return e.style.animation=`${p?`${p}, `:""}${f} ${r}ms linear ${o}ms 1 both`,A+=1,f}function S(e,t){e.style.animation=(e.style.animation||"").split(", ").filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")).join(", "),t&&!--A&&l(()=>{if(A)return;let e=d.cssRules.length;for(;e--;)d.deleteRule(e);_={}})}function N(e){z=e}function R(){if(!z)throw new Error("Function called outside component initialization");return z}function M(e,t){R().$$.context.set(e,t)}function C(e){return R().$$.context.get(e)}const T=[],D=[],F=[],I=[],q=Promise.resolve();let L,U=!1;function B(e){F.push(e)}function K(){const e=new Set;do{for(;T.length;){const e=T.shift();N(e),G(e.$$)}for(;D.length;)D.pop()();for(let t=0;t<F.length;t+=1){const n=F[t];e.has(n)||(n(),e.add(n))}F.length=0}while(T.length);for(;I.length;)I.pop()();U=!1}function G(e){e.fragment&&(e.update(e.dirty),i(e.before_update),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_update.forEach(B))}function W(e,t,n){e.dispatchEvent(function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(`${t?"intro":"outro"}${n}`))}const X=new Set;let H;function J(e,t){e&&e.i&&(X.delete(e),e.i(t))}function V(e,t,n,r){if(e&&e.o){if(X.has(e))return;X.add(e),H.c.push(()=>{X.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}}function Y(n,r,o,u){let s=r(n,o),l=u?0:1,f=null,d=null,p=null;function h(){p&&S(n,p)}function g(e,t){const n=e.b-l;return t*=Math.abs(n),{a:l,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function v(r){const{delay:o=0,duration:a=300,easing:u=t,tick:v=e,css:b}=s,y={start:c()+o,b:r};r||(y.group=H,H.r+=1),f?d=y:(b&&(h(),p=k(n,l,r,a,o,u,b)),r&&v(0,1),f=g(y,a),B(()=>W(n,r,"start")),m(e=>{if(d&&e>d.start&&(f=g(d,a),d=null,W(n,f.b,"start"),b&&(h(),p=k(n,l,f.b,f.duration,0,u,s.css))),f)if(e>=f.end)v(l=f.b,1-l),W(n,f.b,"end"),d||(f.b?h():--f.group.r||i(f.group.c)),f=null;else if(e>=f.start){const t=e-f.start;l=f.a+f.d*u(t/f.duration),v(l,1-l)}return!(!f&&!d)}))}return{run(e){a(s)?(L||(L=Promise.resolve()).then(()=>{L=null}),L).then(()=>{s=s(),v(e)}):v(e)},end(){h(),f=d=null}}}function Z(e,t){V(e,1,1,()=>{t.delete(e.key)})}function Q(e,t,n){const{fragment:o,on_mount:u,on_destroy:s,after_update:c}=e.$$;o.m(t,n),B(()=>{const t=u.map(r).filter(a);s?s.push(...t):i(t),e.$$.on_mount=[]}),c.forEach(B)}function ee(e,t){e.$$.fragment&&(i(e.$$.on_destroy),e.$$.fragment.d(t),e.$$.on_destroy=e.$$.fragment=null,e.$$.ctx={})}function te(e,t){e.$$.dirty||(T.push(e),U||(U=!0,q.then(K)),e.$$.dirty=o()),e.$$.dirty[t]=!0}function ne(t,n,r,a,u,s){const c=z;N(t);const l=n.props||{},f=t.$$={fragment:null,ctx:null,props:s,update:e,not_equal:u,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:o(),dirty:null};let d=!1;var p;f.ctx=r?r(t,l,(e,n)=>{f.ctx&&u(f.ctx[e],f.ctx[e]=n)&&(f.bound[e]&&f.bound[e](n),d&&te(t,e))}):l,f.update(),d=!0,i(f.before_update),f.fragment=a(f.ctx),n.target&&(n.hydrate?f.fragment.l((p=n.target,Array.from(p.childNodes))):f.fragment.c(),n.intro&&J(t.$$.fragment),Q(t,n.target,n.anchor),K()),N(c)}class re{$destroy(){ee(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}function oe(e,t,n){const r=Object.create(e);return r.option=t[n],r}function ie(e){var t,n,r,o,i=e.option;return{c(){t=y("option"),n=$(i),r=x(),t.__value=o=e.option,t.value=t.__value},m(e,o){v(e,t,o),g(t,n),g(t,r)},p(e,r){e.options&&i!==(i=r.option)&&j(n,i),e.options&&o!==(o=r.option)&&(t.__value=o),t.value=t.__value},d(e){e&&b(t)}}}function ae(t){for(var n,r,o,a,u,s,c,l=t.options,f=[],d=0;d<l.length;d+=1)f[d]=ie(oe(t,l,d));return{c(){n=y("div"),r=$(t.label),o=x(),a=y("select");for(var e=0;e<f.length;e+=1)f[e].c();u=x(),s=$(t.current),void 0===t.current&&B(()=>t.select_change_handler.call(a)),c=[O(a,"change",t.select_change_handler),O(a,"change",t.change_handler)]},m(e,i){v(e,n,i),g(n,r),g(n,o),g(n,a);for(var c=0;c<f.length;c+=1)f[c].m(a,null);P(a,t.current),g(n,u),g(n,s)},p(e,t){if(e.label&&j(r,t.label),e.options){l=t.options;for(var n=0;n<l.length;n+=1){const r=oe(t,l,n);f[n]?f[n].p(e,r):(f[n]=ie(r),f[n].c(),f[n].m(a,null))}for(;n<f.length;n+=1)f[n].d(1);f.length=l.length}e.current&&P(a,t.current),e.current&&j(s,t.current)},i:e,o:e,d(e){e&&b(n),function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}(f,e),i(c)}}}function ue(e,t,n){let{label:r,options:o,current:i,onChange:a}=t;return e.$set=(e=>{"label"in e&&n("label",r=e.label),"options"in e&&n("options",o=e.options),"current"in e&&n("current",i=e.current),"onChange"in e&&n("onChange",a=e.onChange)}),{label:r,options:o,current:i,onChange:a,select_change_handler:function(){i=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),n("current",i),n("options",o)},change_handler:function(){return a(i)}}}class se extends re{constructor(e){super(),ne(this,e,ue,ae,u,["label","options","current","onChange"])}}function ce(e,t){return e===t}var le;!function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r]}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ce,n=null,r=null;return function(){return function(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e(t[o],n[o]))return!1;return!0}(t,n,arguments)||(r=e.apply(null,arguments)),n=arguments,r}});function fe(t,n=e){let r;const o=[];function i(e){if(u(t,e)){if(t=e,!r)return;o.forEach(e=>e[1]()),o.forEach(e=>e[0](t))}}return{set:i,update:function(e){i(e(t))},subscribe:function(a,u=e){const s=[a,u];return o.push(s),1===o.length&&(r=n(i)||e),a(t),()=>{const e=o.indexOf(s);-1!==e&&o.splice(e,1),0===o.length&&(r(),r=null)}}}}function de(t,n,r){const o=!Array.isArray(t),u=o?[t]:t,s=n.length<2,c=[],l={subscribe:fe(r,t=>{let r=!1;const l=[];let f=0,d=e;const p=()=>{if(f)return;d();const r=n(o?l[0]:l,t);s?t(r):d=a(r)?r:e},h=u.map((e,t)=>e.subscribe(e=>{l[t]=e,f&=~(1<<t),r&&p()},()=>{i(c),f|=1<<t}));return r=!0,p(),function(){i(h),d()}}).subscribe};return{subscribe(t,n=e){c.push(n);const r=l.subscribe(t,n);return()=>{const e=c.indexOf(n);-1!==e&&c.splice(e,1),r()}}}}var pe="undefined"!=typeof Symbol?Symbol("immer-nothing"):((le={})["immer-nothing"]=!0,le),he="undefined"!=typeof Symbol&&Symbol.for?Symbol.for("immer-draftable"):"__$immer_draftable",me="undefined"!=typeof Symbol&&Symbol.for?Symbol.for("immer-state"):"__$immer_state";function ge(e){return!!e&&!!e[me]}function ve(e){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e))return!0;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype||(!!e[he]||!!e.constructor[he])}var be=Object.assign||function(e,t){for(var n in t)Oe(t,n)&&(e[n]=t[n]);return e},ye="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function we(e,t){if(void 0===t&&(t=!1),Array.isArray(e))return e.slice();var n=Object.create(Object.getPrototypeOf(e));return ye(e).forEach(function(r){if(r!==me){var o=Object.getOwnPropertyDescriptor(e,r),i=o.value;if(o.get){if(!t)throw new Error("Immer drafts cannot have computed properties");i=o.get.call(e)}o.enumerable?n[r]=i:Object.defineProperty(n,r,{value:i,writable:!0,configurable:!0})}}),n}function $e(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(n,e[n],e);else ye(e).forEach(function(n){return t(n,e[n],e)})}function xe(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!!n&&n.enumerable}function Oe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ee(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}var je=function(e){this.drafts=[],this.parent=e,this.canAutoFreeze=!0,this.patches=null};function Pe(e){e[me].revoke()}je.prototype.usePatches=function(e){e&&(this.patches=[],this.inversePatches=[],this.patchListener=e)},je.prototype.revoke=function(){this.leave(),this.drafts.forEach(Pe),this.drafts=null},je.prototype.leave=function(){this===je.current&&(je.current=this.parent)},je.current=null,je.enter=function(){return this.current=new je(this.current)};var ze={};function Ae(e,t){var n=Array.isArray(e),r=Me(e);$e(r,function(t){!function(e,t,n){var r=ze[t];r?r.enumerable=n:ze[t]=r={configurable:!0,enumerable:n,get:function(){return function(e,t){Ce(e);var n=Se(ke(e),t);if(e.finalizing)return n;if(n===Se(e.base,t)&&ve(n))return Re(e),e.copy[t]=Ae(n,e);return n}(this[me],t)},set:function(e){!function(e,t,n){if(Ce(e),e.assigned[t]=!0,!e.modified){if(Ee(n,Se(ke(e),t)))return;Ne(e),Re(e)}e.copy[t]=n}(this[me],t,e)}};Object.defineProperty(e,t,r)}(r,t,n||xe(e,t))});var o,i,a,u=t?t.scope:je.current;return o=r,i=me,a={scope:u,modified:!1,finalizing:!1,finalized:!1,assigned:{},parent:t,base:e,draft:r,copy:null,revoke:_e,revoked:!1},Object.defineProperty(o,i,{value:a,enumerable:!1,writable:!0}),u.drafts.push(r),r}function _e(){this.revoked=!0}function ke(e){return e.copy||e.base}function Se(e,t){var n=e[me];if(n&&!n.finalizing){n.finalizing=!0;var r=e[t];return n.finalizing=!1,r}return e[t]}function Ne(e){e.modified||(e.modified=!0,e.parent&&Ne(e.parent))}function Re(e){e.copy||(e.copy=Me(e.base))}function Me(e){var t=e&&e[me];if(t){t.finalizing=!0;var n=we(t.draft,!0);return t.finalizing=!1,n}return we(e)}function Ce(e){if(!0===e.revoked)throw new Error("Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+JSON.stringify(ke(e)))}function Te(e){for(var t=e.length-1;t>=0;t--){var n=e[t][me];n.modified||(Array.isArray(n.base)?Fe(n)&&Ne(n):De(n)&&Ne(n))}}function De(e){for(var t=e.base,n=e.draft,r=Object.keys(n),o=r.length-1;o>=0;o--){var i=r[o],a=t[i];if(void 0===a&&!Oe(t,i))return!0;var u=n[i],s=u&&u[me];if(s?s.base!==a:!Ee(u,a))return!0}return r.length!==Object.keys(t).length}function Fe(e){var t=e.draft;if(t.length!==e.base.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!n||n.get)}var Ie=Object.freeze({willFinalize:function(e,t,n){e.drafts.forEach(function(e){e[me].finalizing=!0}),n?ge(t)&&t[me].scope===e&&Te(e.drafts):(e.patches&&function e(t){if(t&&"object"==typeof t){var n=t[me];if(n){var r=n.base,o=n.draft,i=n.assigned;if(Array.isArray(t)){if(Fe(n)){if(Ne(n),i.length=!0,o.length<r.length)for(var a=o.length;a<r.length;a++)i[a]=!1;else for(var u=r.length;u<o.length;u++)i[u]=!0;for(var s=0;s<o.length;s++)void 0===i[s]&&e(o[s])}}else Object.keys(o).forEach(function(t){void 0!==r[t]||Oe(r,t)?i[t]||e(o[t]):(i[t]=!0,Ne(n))}),Object.keys(r).forEach(function(e){void 0!==o[e]||Oe(o,e)||(i[e]=!1,Ne(n))})}}}(e.drafts[0]),Te(e.drafts))},createProxy:Ae});function qe(e,t){var n=t?t.scope:je.current,r={scope:n,modified:!1,finalized:!1,assigned:{},parent:t,base:e,draft:null,drafts:{},copy:null,revoke:null},o=Array.isArray(e)?Proxy.revocable([r],Ue):Proxy.revocable(r,Le),i=o.revoke,a=o.proxy;return r.draft=a,r.revoke=i,n.drafts.push(a),a}var Le={get:function(e,t){if(t===me)return e;var n=e.drafts;if(!e.modified&&Oe(n,t))return n[t];var r=Be(e)[t];if(e.finalized||!ve(r))return r;if(e.modified){if(r!==Ke(e.base,t))return r;n=e.copy}return n[t]=qe(r,e)},has:function(e,t){return t in Be(e)},ownKeys:function(e){return Reflect.ownKeys(Be(e))},set:function(e,t,n){if(!e.modified){var r=Ke(e.base,t),o=n?Ee(r,n)||n===e.drafts[t]:Ee(r,n)&&t in e.base;if(o)return!0;Ge(e)}return e.assigned[t]=!0,e.copy[t]=n,!0},deleteProperty:function(e,t){(void 0!==Ke(e.base,t)||t in e.base)&&(e.assigned[t]=!1,Ge(e));e.copy&&delete e.copy[t];return!0},getOwnPropertyDescriptor:function(e,t){var n=Be(e),r=Reflect.getOwnPropertyDescriptor(n,t);r&&(r.writable=!0,r.configurable=!Array.isArray(n)||"length"!==t);return r},defineProperty:function(){throw new Error("Object.defineProperty() cannot be used on an Immer draft")},getPrototypeOf:function(e){return Object.getPrototypeOf(e.base)},setPrototypeOf:function(){throw new Error("Object.setPrototypeOf() cannot be used on an Immer draft")}},Ue={};function Be(e){return e.copy||e.base}function Ke(e,t){var n=e[me],r=Reflect.getOwnPropertyDescriptor(n?Be(n):e,t);return r&&r.value}function Ge(e){e.modified||(e.modified=!0,e.copy=be(we(e.base),e.drafts),e.drafts=null,e.parent&&Ge(e.parent))}$e(Le,function(e,t){Ue[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Ue.deleteProperty=function(e,t){if(isNaN(parseInt(t)))throw new Error("Immer only supports deleting array indices");return Le.deleteProperty.call(this,e[0],t)},Ue.set=function(e,t,n){if("length"!==t&&isNaN(parseInt(t)))throw new Error("Immer only supports setting array indices and the 'length' property");return Le.set.call(this,e[0],t,n)};var We=Object.freeze({willFinalize:function(){},createProxy:qe});function Xe(e,t,n,r){Array.isArray(e.base)?function(e,t,n,r){var o,i,a=e.base,u=e.copy,s=e.assigned;u.length<a.length&&(a=(o=[u,a])[0],u=o[1],n=(i=[r,n])[0],r=i[1]);var c=u.length-a.length,l=0;for(;a[l]===u[l]&&l<a.length;)++l;var f=a.length;for(;f>l&&a[f-1]===u[f+c-1];)--f;for(var d=l;d<f;++d)if(s[d]&&u[d]!==a[d]){var p=t.concat([d]);n.push({op:"replace",path:p,value:u[d]}),r.push({op:"replace",path:p,value:a[d]})}for(var h=f!=a.length,m=n.length,g=f+c-1;g>=f;--g){var v=t.concat([g]);n[m+g-f]={op:"add",path:v,value:u[g]},h&&r.push({op:"remove",path:v})}h||r.push({op:"replace",path:t.concat(["length"]),value:a.length})}(e,t,n,r):function(e,t,n,r){var o=e.base,i=e.copy;$e(e.assigned,function(e,a){var u=o[e],s=i[e],c=a?e in o?"replace":"add":"remove";if(u!==s||"replace"!==c){var l=t.concat(e);n.push("remove"===c?{op:c,path:l}:{op:c,path:l,value:s}),r.push("add"===c?{op:"remove",path:l}:"remove"===c?{op:"add",path:l,value:u}:{op:"replace",path:l,value:u})}})}(e,t,n,r)}function He(e,t){for(var n=0;n<t.length;n++){var r=t[n],o=r.path;if(0===o.length&&"replace"===r.op)e=r.value;else{for(var i=e,a=0;a<o.length-1;a++)if(!(i=i[o[a]])||"object"!=typeof i)throw new Error("Cannot apply patch, path doesn't resolve: "+o.join("/"));var u=o[o.length-1];switch(r.op){case"replace":i[u]=r.value;break;case"add":Array.isArray(i)?i.splice(u,0,r.value):i[u]=r.value;break;case"remove":Array.isArray(i)?i.splice(u,1):delete i[u];break;default:throw new Error("Unsupported patch operation: "+r.op)}}}return e}var Je={useProxies:"undefined"!=typeof Proxy&&"undefined"!=typeof Reflect,autoFreeze:"undefined"!=typeof process?"production"!==process.env.NODE_ENV:"verifyMinified"===function(){}.name,onAssign:null,onDelete:null,onCopy:null},Ve=function(e){be(this,Je,e),this.setUseProxies(this.useProxies),this.produce=this.produce.bind(this)};Ve.prototype.produce=function(e,t,n){var r,o=this;if("function"==typeof e&&"function"!=typeof t){var i=t;t=e;var a=this;return function(e){var n=this;void 0===e&&(e=i);for(var r=[],o=arguments.length-1;o-- >0;)r[o]=arguments[o+1];return a.produce(e,function(e){return t.call.apply(t,[n,e].concat(r))})}}if("function"!=typeof t)throw new Error("The first or second argument to `produce` must be a function");if(void 0!==n&&"function"!=typeof n)throw new Error("The third argument to `produce` must be a function or undefined");if(ve(e)){var u=je.enter(),s=this.createProxy(e),c=!0;try{r=t(s),c=!1}finally{c?u.revoke():u.leave()}return r instanceof Promise?r.then(function(e){return u.usePatches(n),o.processResult(e,u)},function(e){throw u.revoke(),e}):(u.usePatches(n),this.processResult(r,u))}return void 0===(r=t(e))?e:r!==pe?r:void 0},Ve.prototype.createDraft=function(e){if(!ve(e))throw new Error("First argument to `createDraft` must be a plain object, an array, or an immerable object");var t=je.enter(),n=this.createProxy(e);return n[me].isManual=!0,t.leave(),n},Ve.prototype.finishDraft=function(e,t){var n=e&&e[me];if(!n||!n.isManual)throw new Error("First argument to `finishDraft` must be a draft returned by `createDraft`");if(n.finalized)throw new Error("The given draft is already finalized");var r=n.scope;return r.usePatches(t),this.processResult(void 0,r)},Ve.prototype.setAutoFreeze=function(e){this.autoFreeze=e},Ve.prototype.setUseProxies=function(e){this.useProxies=e,be(this,e?We:Ie)},Ve.prototype.applyPatches=function(e,t){return ge(e)?He(e,t):this.produce(e,function(e){return He(e,t)})},Ve.prototype.processResult=function(e,t){var n=t.drafts[0],r=void 0!==e&&e!==n;if(this.willFinalize(t,e,r),r){if(n[me].modified)throw t.revoke(),new Error("An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.");ve(e)&&(e=this.finalize(e,null,t)),t.patches&&(t.patches.push({op:"replace",path:[],value:e}),t.inversePatches.push({op:"replace",path:[],value:n[me].base}))}else e=this.finalize(n,[],t);return t.revoke(),t.patches&&t.patchListener(t.patches,t.inversePatches),e!==pe?e:void 0},Ve.prototype.finalize=function(e,t,n){var r=this,o=e[me];if(!o)return Object.isFrozen(e)?e:this.finalizeTree(e,null,n);if(o.scope!==n)return e;if(!o.modified)return o.base;if(!o.finalized){if(o.finalized=!0,this.finalizeTree(o.draft,t,n),this.onDelete)if(this.useProxies){var i=o.assigned;for(var a in i)i[a]||this.onDelete(o,a)}else{var u=o.base,s=o.copy;$e(u,function(e){Oe(s,e)||r.onDelete(o,e)})}this.onCopy&&this.onCopy(o),this.autoFreeze&&n.canAutoFreeze&&Object.freeze(o.copy),t&&n.patches&&Xe(o,t,n.patches,n.inversePatches)}return o.copy},Ve.prototype.finalizeTree=function(e,t,n){var r=this,o=e[me];o&&(this.useProxies||(o.copy=we(o.draft,!0)),e=o.copy);var i=!!t&&!!n.patches,a=function(u,s,c){if(s===c)throw Error("Immer forbids circular references");var l=!!o&&c===e;if(ge(s)){var f=l&&i&&!o.assigned[u]?t.concat(u):null;if(ge(s=r.finalize(s,f,n))&&(n.canAutoFreeze=!1),Array.isArray(c)||xe(c,u)?c[u]=s:Object.defineProperty(c,u,{value:s}),l&&s===o.base[u])return}else{if(l&&Ee(s,o.base[u]))return;ve(s)&&!Object.isFrozen(s)&&$e(s,a)}l&&r.onAssign&&r.onAssign(o,u,s)};return $e(e,a),e};var Ye=new Ve,Ze=Ye.produce;Ye.setAutoFreeze.bind(Ye),Ye.setUseProxies.bind(Ye),Ye.applyPatches.bind(Ye),Ye.createDraft.bind(Ye),Ye.finishDraft.bind(Ye);const Qe={product:["firefox","fenix"],channel:["release","beta","nightly"],os:["mac","windows","linux"],randomNumbers:[]},et=fe({channel:"release",os:"mac",randomNumbers:[]}),tt=e=>{et.update(t=>Ze(t,e))},nt=e=>e.length?Math.max(...e.map(e=>e.id),0)+1:0,rt=e=>(...t)=>tt(e(...t)),ot=e=>t=>{t.channel=e},it=e=>t=>{t.os=e},at=()=>100*Math.random(),ut=()=>e=>{e.randomNumbers.push({value:at(),id:nt(e.randomNumbers)})},st=e=>t=>{const n=t.randomNumbers.findIndex(t=>t.id===e);t.randomNumbers[n].value=at()},ct=e=>t=>{t.randomNumbers=t.randomNumbers.filter(t=>t.id!==e)},lt=de(et,e=>({os:e.os,channel:e.channel})),ft=de(lt,e=>{return Object.keys(e).sort().map(t=>`${t}=${e[t]}`).join("&")});var dt={subscribe:et.subscribe};function pt(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}var ht,mt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gt(e){return new vt(e)}function vt(e){if(!(t=mt.exec(e)))throw new Error("invalid format: "+e);var t;this.fill=t[1]||" ",this.align=t[2]||">",this.sign=t[3]||"-",this.symbol=t[4]||"",this.zero=!!t[5],this.width=t[6]&&+t[6],this.comma=!!t[7],this.precision=t[8]&&+t[8].slice(1),this.trim=!!t[9],this.type=t[10]||""}function bt(e,t){var n=pt(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}gt.prototype=vt.prototype,vt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var yt={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return bt(100*e,t)},r:bt,s:function(e,t){var n=pt(e,t);if(!n)return e+"";var r=n[0],o=n[1],i=o-(ht=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+pt(e,Math.max(0,t+i-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function wt(e){return e}var $t,xt,Ot=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Et(e){var t,n,r=e.grouping&&e.thousands?(t=e.grouping,n=e.thousands,function(e,r){for(var o=e.length,i=[],a=0,u=t[0],s=0;o>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),i.push(e.substring(o-=u,o+u)),!((s+=u+1)>r));)u=t[a=(a+1)%t.length];return i.reverse().join(n)}):wt,o=e.currency,i=e.decimal,a=e.numerals?function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(e.numerals):wt,u=e.percent||"%";function s(e){var t=(e=gt(e)).fill,n=e.align,s=e.sign,c=e.symbol,l=e.zero,f=e.width,d=e.comma,p=e.precision,h=e.trim,m=e.type;"n"===m?(d=!0,m="g"):yt[m]||(null==p&&(p=12),h=!0,m="g"),(l||"0"===t&&"="===n)&&(l=!0,t="0",n="=");var g="$"===c?o[0]:"#"===c&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",v="$"===c?o[1]:/[%p]/.test(m)?u:"",b=yt[m],y=/[defgprs%]/.test(m);function w(e){var o,u,c,w=g,$=v;if("c"===m)$=b(e)+$,e="";else{var x=(e=+e)<0;if(e=b(Math.abs(e),p),h&&(e=function(e){e:for(var t,n=e.length,r=1,o=-1;r<n;++r)switch(e[r]){case".":o=t=r;break;case"0":0===o&&(o=r),t=r;break;default:if(o>0){if(!+e[r])break e;o=0}}return o>0?e.slice(0,o)+e.slice(t+1):e}(e)),x&&0==+e&&(x=!1),w=(x?"("===s?s:"-":"-"===s||"("===s?"":s)+w,$=("s"===m?Ot[8+ht/3]:"")+$+(x&&"("===s?")":""),y)for(o=-1,u=e.length;++o<u;)if(48>(c=e.charCodeAt(o))||c>57){$=(46===c?i+e.slice(o+1):e.slice(o))+$,e=e.slice(0,o);break}}d&&!l&&(e=r(e,1/0));var O=w.length+e.length+$.length,E=O<f?new Array(f-O+1).join(t):"";switch(d&&l&&(e=r(E+e,E.length?f-$.length:1/0),E=""),n){case"<":e=w+e+$+E;break;case"=":e=w+E+e+$;break;case"^":e=E.slice(0,O=E.length>>1)+w+e+$+E.slice(O);break;default:e=E+w+e+$}return a(e)}return p=null==p?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),w.toString=function(){return e+""},w}return{format:s,formatPrefix:function(e,t){var n,r=s(((e=gt(e)).type="f",e)),o=3*Math.max(-8,Math.min(8,Math.floor((n=t,((n=pt(Math.abs(n)))?n[1]:NaN)/3)))),i=Math.pow(10,-o),a=Ot[8+o/3];return function(e){return r(i*e)+a}}}}function jt(e){const t=e-1;return t*t*t+1}function Pt(e,{delay:t=0,duration:n=400,easing:r=jt}){const o=getComputedStyle(e),i=+o.opacity,a=parseFloat(o.height),u=parseFloat(o.paddingTop),s=parseFloat(o.paddingBottom),c=parseFloat(o.marginTop),l=parseFloat(o.marginBottom),f=parseFloat(o.borderTopWidth),d=parseFloat(o.borderBottomWidth);return{delay:t,duration:n,easing:r,css:e=>"overflow: hidden;"+`opacity: ${Math.min(20*e,1)*i};`+`height: ${e*a}px;`+`padding-top: ${e*u}px;`+`padding-bottom: ${e*s}px;`+`margin-top: ${e*c}px;`+`margin-bottom: ${e*l}px;`+`border-top-width: ${e*f}px;`+`border-bottom-width: ${e*d}px;`}}function zt(e){return"[object Date]"===Object.prototype.toString.call(e)}function At(e,t){if(e===t||e!=e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const n=t.map((t,n)=>At(e[n],t));return e=>n.map(t=>t(e))}if("object"===n){if(!e||!t)throw new Error("Object cannot be null");if(zt(e)&&zt(t)){e=e.getTime();const n=(t=t.getTime())-e;return t=>new Date(e+t*n)}const n=Object.keys(t),r={};return n.forEach(n=>{r[n]=At(e[n],t[n])}),e=>{const t={};return n.forEach(n=>{t[n]=r[n](e)}),t}}if("number"===n){const n=t-e;return t=>e+t*n}throw new Error(`Cannot interpolate ${n} values`)}function _t(e){var t,n,r,o,a,u,s,c,l,f,d,p,h,m,P,z,A,_=e.fm(e.$tweenedNumber);return{c(){t=y("li"),n=y("div"),r=y("div"),o=$(_),a=x(),u=y("div"),s=w("svg"),c=w("rect"),l=x(),f=y("div"),(d=y("button")).textContent="randomize",p=x(),h=y("div"),(m=y("button")).textContent="delete",E(r,"class","svelte-1g94ju8"),E(c,"x","0"),E(c,"y","0"),E(c,"height","20"),E(c,"width",e.$tweenedNumber),E(c,"fill","lightgray"),E(s,"width","100"),E(s,"height","20"),E(u,"class","svelte-1g94ju8"),E(f,"class","svelte-1g94ju8"),E(h,"class","svelte-1g94ju8"),E(n,"class","list-container svelte-1g94ju8"),A=[O(d,"click",e.randomizeNumber),O(m,"click",e.deleteNumber)]},m(e,i){v(e,t,i),g(t,n),g(n,r),g(r,o),g(n,a),g(n,u),g(u,s),g(s,c),g(n,l),g(n,f),g(f,d),g(n,p),g(n,h),g(h,m),z=!0},p(e,t){z&&!e.$tweenedNumber||_===(_=t.fm(t.$tweenedNumber))||j(o,_),z&&!e.$tweenedNumber||E(c,"width",t.$tweenedNumber)},i(e){z||(B(()=>{P||(P=Y(t,Pt,{duration:200},!0)),P.run(1)}),z=!0)},o(e){P||(P=Y(t,Pt,{duration:200},!1)),P.run(0),z=!1},d(e){e&&(b(t),P&&P.end()),i(A)}}}function kt(e,r,o){let i,{id:a,value:u,onRandomize:l=C("randomizeNumber"),onDelete:f=C("deleteRandomNumber")}=r;const d=function(e,r={}){const o=fe(e);let i,a=e;function u(u,s){a=u;let l=i,f=!1,{delay:d=0,duration:p=400,easing:h=t,interpolate:g=At}=n(n({},r),s);const v=c()+d;let b;return(i=m(t=>{if(t<v)return!0;f||(b=g(e,u),"function"==typeof p&&(p=p(e,u)),f=!0),l&&(l.abort(),l=null);const n=t-v;return n>p?(o.set(e=u),!1):(o.set(e=b(h(n/p))),!0)})).promise}return{set:u,update:(t,n)=>u(t(a,e),n),subscribe:o.subscribe}}(0,{duration:500,easing:jt});s(e,d,e=>{o("$tweenedNumber",i=e)});const p=xt(",.2");return e.$set=(e=>{"id"in e&&o("id",a=e.id),"value"in e&&o("value",u=e.value),"onRandomize"in e&&o("onRandomize",l=e.onRandomize),"onDelete"in e&&o("onDelete",f=e.onDelete)}),e.$$.update=((e={value:1})=>{e.value&&d.set(u)}),{id:a,value:u,onRandomize:l,onDelete:f,randomizeNumber:()=>l(a),deleteNumber:()=>f(a),tweenedNumber:d,fm:p,$tweenedNumber:i}}$t=Et({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),xt=$t.format,$t.formatPrefix;class St extends re{constructor(e){super(),ne(this,e,kt,_t,u,["id","value","onRandomize","onDelete"])}}function Nt(e,t,n){const r=Object.create(e);return r.id=t[n].id,r.value=t[n].value,r.i=n,r}function Rt(e,t){var n,r,o=new St({props:{id:t.id,value:t.value}});return{key:e,first:null,c(){n=$(""),o.$$.fragment.c(),this.first=n},m(e,t){v(e,n,t),Q(o,e,t),r=!0},p(e,t){var n={};e.$STORE&&(n.id=t.id),e.$STORE&&(n.value=t.value),o.$set(n)},i(e){r||(J(o.$$.fragment,e),r=!0)},o(e){V(o.$$.fragment,e),r=!1},d(e){e&&b(n),ee(o,e)}}}function Mt(e){var t,n,r,o,a,u=[],s=new Map,c=e.$STORE.randomNumbers;const l=e=>e.id;for(var f=0;f<c.length;f+=1){let t=Nt(e,c,f),n=l(t);s.set(n,u[f]=Rt(n,t))}return{c(){for((t=y("button")).textContent="+ random number",n=x(),r=y("ul"),f=0;f<u.length;f+=1)u[f].c();E(r,"class","svelte-29iif1"),a=O(t,"click",e.add)},m(e,i){for(v(e,t,i),v(e,n,i),v(e,r,i),f=0;f<u.length;f+=1)u[f].m(r,null);o=!0},p(e,t){const n=t.$STORE.randomNumbers;H={r:0,c:[],p:H},u=function(e,t,n,r,o,i,a,u,s,c,l,f){let d=e.length,p=i.length,h=d;const m={};for(;h--;)m[e[h].key]=h;const g=[],v=new Map,b=new Map;for(h=p;h--;){const e=f(o,i,h),u=n(e);let s=a.get(u);s?r&&s.p(t,e):(s=c(u,e)).c(),v.set(u,g[h]=s),u in m&&b.set(u,Math.abs(h-m[u]))}const y=new Set,w=new Set;function $(e){J(e,1),e.m(u,l),a.set(e.key,e),l=e.first,p--}for(;d&&p;){const t=g[p-1],n=e[d-1],r=t.key,o=n.key;t===n?(l=t.first,d--,p--):v.has(o)?!a.has(r)||y.has(r)?$(t):w.has(o)?d--:b.get(r)>b.get(o)?(w.add(r),$(t)):(y.add(o),d--):(s(n,a),d--)}for(;d--;){const t=e[d];v.has(t.key)||s(t,a)}for(;p;)$(g[p-1]);return g}(u,e,l,1,t,n,s,r,Z,Rt,null,Nt),H.r||i(H.c),H=H.p},i(e){if(!o){for(var t=0;t<c.length;t+=1)J(u[t]);o=!0}},o(e){for(f=0;f<u.length;f+=1)V(u[f]);o=!1},d(e){for(e&&(b(t),b(n),b(r)),f=0;f<u.length;f+=1)u[f].d();a()}}}function Ct(e,t,n){let r;return s(e,dt,e=>{n("$STORE",r=e)}),M("randomizeNumber",rt(st)),M("deleteRandomNumber",rt(ct)),{add:rt(ut),$STORE:r}}class Tt extends re{constructor(e){super(),ne(this,e,Ct,Mt,u,[])}}function Dt(e){var t,n,r,o,i,a,u,s,c,l,f=new se({props:{label:"os",current:e.$STORE.os,onChange:e.func,options:Qe.os}}),d=new se({props:{label:"channel",current:e.$STORE.channel,onChange:e.func_1,options:Qe.channel}}),p=new Tt({});return{c(){t=y("main"),(n=y("h1")).textContent="Using Immer to make a global store",r=x(),(o=y("p")).textContent="This repository uses Immer to produce new states in one single global $STORE object.\n        Atomic updates to $STORE are handled through a produce function.",i=x(),(a=y("p")).innerHTML='\n\t\t\t        Try playing with these selectors. Take a look at the query string in the\n\t\t\t        URL. Read the source on <a href="https://github.com/hamilton/svelte-immer-example">Github</a>.\n\t\t\t    ',u=x(),f.$$.fragment.c(),s=x(),d.$$.fragment.c(),c=x(),p.$$.fragment.c(),E(n,"class","svelte-1xwftlc"),E(t,"class","svelte-1xwftlc")},m(e,h){v(e,t,h),g(t,n),g(t,r),g(t,o),g(t,i),g(t,a),g(t,u),Q(f,t,null),g(t,s),Q(d,t,null),g(t,c),Q(p,t,null),l=!0},p(e,t){var n={};e.$STORE&&(n.current=t.$STORE.os),(e.dispatch||e.changeOS)&&(n.onChange=t.func),e.options&&(n.options=Qe.os),f.$set(n);var r={};e.$STORE&&(r.current=t.$STORE.channel),(e.dispatch||e.changeChannel)&&(r.onChange=t.func_1),e.options&&(r.options=Qe.channel),d.$set(r)},i(e){l||(J(f.$$.fragment,e),J(d.$$.fragment,e),J(p.$$.fragment,e),l=!0)},o(e){V(f.$$.fragment,e),V(d.$$.fragment,e),V(p.$$.fragment,e),l=!1},d(e){e&&b(t),ee(f),ee(d),ee(p)}}}function Ft(e,t,n){let r,o;return s(e,ft,e=>{n("$queryString",r=e)}),s(e,dt,e=>{n("$STORE",o=e)}),e.$$.update=((e={$queryString:1})=>{e.$queryString&&function(e){if(history.pushState){const e=window.location.protocol+"//"+window.location.host+window.location.pathname+`?${r}`;window.history.pushState({path:e},"",e)}}()}),{$STORE:o,func:function(e){return tt(it(e))},func_1:function(e){return tt(ot(e))}}}return new class extends re{constructor(e){super(),ne(this,e,Ft,Dt,u,[])}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
