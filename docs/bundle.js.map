{"version":3,"file":"bundle.js","sources":["../node_modules/svelte/internal/index.mjs","../src/Selector.svelte","../node_modules/reselect/es/index.js","../node_modules/immer/dist/immer.module.js","../node_modules/svelte/store/index.mjs","../src/store.js","../node_modules/d3-format/src/formatDecimal.js","../node_modules/d3-format/src/formatSpecifier.js","../node_modules/d3-format/src/formatPrefixAuto.js","../node_modules/d3-format/src/formatRounded.js","../node_modules/d3-format/src/formatTypes.js","../node_modules/d3-format/src/identity.js","../node_modules/d3-format/src/locale.js","../node_modules/d3-format/src/defaultLocale.js","../node_modules/d3-format/src/formatGroup.js","../node_modules/d3-format/src/formatNumerals.js","../node_modules/d3-format/src/formatTrim.js","../node_modules/d3-format/src/exponent.js","../node_modules/svelte/easing/index.mjs","../node_modules/svelte/transition/index.mjs","../node_modules/svelte/motion/index.mjs","../src/RandomNumber.svelte","../src/RandomNumberList.svelte","../src/App.svelte","../src/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction validate_store(store, name) {\n    if (!store || typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(component, store, callback) {\n    const unsub = store.subscribe(callback);\n    component.$$.on_destroy.push(unsub.unsubscribe\n        ? () => unsub.unsubscribe()\n        : unsub);\n}\nfunction create_slot(definition, ctx, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, fn) {\n    return definition[1]\n        ? assign({}, assign(ctx.$$scope.ctx, definition[1](fn ? fn(ctx) : {})))\n        : ctx.$$scope.ctx;\n}\nfunction get_slot_changes(definition, ctx, changed, fn) {\n    return definition[1]\n        ? assign({}, assign(ctx.$$scope.changed || {}, definition[1](fn ? fn(changed) : {})))\n        : ctx.$$scope.changed || {};\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = cb => requestAnimationFrame(cb);\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nlet running = false;\nfunction run_tasks() {\n    tasks.forEach(task => {\n        if (!task[0](now())) {\n            tasks.delete(task);\n            task[1]();\n        }\n    });\n    running = tasks.size > 0;\n    if (running)\n        raf(run_tasks);\n}\nfunction clear_loops() {\n    // for testing...\n    tasks.forEach(task => tasks.delete(task));\n    running = false;\n}\nfunction loop(fn) {\n    let task;\n    if (!running) {\n        running = true;\n        raf(run_tasks);\n    }\n    return {\n        promise: new Promise(fulfil => {\n            tasks.add(task = [fn, fulfil]);\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction detach_between(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        before.parentNode.removeChild(before.nextSibling);\n    }\n}\nfunction detach_before(after) {\n    while (after.previousSibling) {\n        after.parentNode.removeChild(after.previousSibling);\n    }\n}\nfunction detach_after(before) {\n    while (before.nextSibling) {\n        before.parentNode.removeChild(before.nextSibling);\n    }\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction object_without_properties(obj, exclude) {\n    // eslint-disable-next-line @typescript-eslint/no-object-literal-type-assertion\n    const target = {};\n    for (const k in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    for (const key in attributes) {\n        if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key in node) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group) {\n    const value = [];\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.push(group[i].__value);\n    }\n    return value;\n}\nfunction to_number(value) {\n    return value === '' ? undefined : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            for (let j = 0; j < node.attributes.length; j += 1) {\n                const attribute = node.attributes[j];\n                if (!attributes[attribute.name])\n                    node.removeAttribute(attribute.name);\n            }\n            return nodes.splice(i, 1)[0]; // TODO strip unwanted attributes\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.data !== data)\n        text.data = data;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value) {\n    node.style.setProperty(key, value);\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\nfunction add_resize_listener(element, fn) {\n    if (getComputedStyle(element).position === 'static') {\n        element.style.position = 'relative';\n    }\n    const object = document.createElement('object');\n    object.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\n    object.type = 'text/html';\n    object.tabIndex = -1;\n    let win;\n    object.onload = () => {\n        win = object.contentDocument.defaultView;\n        win.addEventListener('resize', fn);\n    };\n    if (/Trident/.test(navigator.userAgent)) {\n        element.appendChild(object);\n        object.data = 'about:blank';\n    }\n    else {\n        object.data = 'about:blank';\n        element.appendChild(object);\n    }\n    return {\n        cancel: () => {\n            win && win.removeEventListener && win.removeEventListener('resize', fn);\n            element.removeChild(object);\n        }\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\n\nlet stylesheet;\nlet active = 0;\nlet current_rules = {};\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    if (!current_rules[name]) {\n        if (!stylesheet) {\n            const style = element('style');\n            document.head.appendChild(style);\n            stylesheet = style.sheet;\n        }\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ``}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    node.style.animation = (node.style.animation || '')\n        .split(', ')\n        .filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    )\n        .join(', ');\n    if (name && !--active)\n        clear_rules();\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        let i = stylesheet.cssRules.length;\n        while (i--)\n            stylesheet.deleteRule(i);\n        current_rules = {};\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error(`Function called outside component initialization`);\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = current_component;\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nfunction flush() {\n    const seen_callbacks = new Set();\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        while (dirty_components.length) {\n            const component = dirty_components.shift();\n            set_current_component(component);\n            update(component.$$);\n        }\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                callback();\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n}\nfunction update($$) {\n    if ($$.fragment) {\n        $$.update($$.dirty);\n        run_all($$.before_update);\n        $$.fragment.p($$.dirty, $$.ctx);\n        $$.dirty = null;\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = key && { [key]: value };\n        const child_ctx = assign(assign({}, info.ctx), info.resolved);\n        const block = type && (info.current = type)(child_ctx);\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            info.blocks[i] = null;\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            flush();\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n    }\n    if (is_promise(promise)) {\n        promise.then(value => {\n            update(info.then, 1, info.value, value);\n        }, error => {\n            update(info.catch, 2, info.error, error);\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = { [info.value]: promise };\n    }\n}\n\nconst globals = (typeof window !== 'undefined' ? window : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, changed, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(changed, child_ctx);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction measure(blocks) {\n    const rects = {};\n    let i = blocks.length;\n    while (i--)\n        rects[blocks[i].key] = blocks[i].node.getBoundingClientRect();\n    return rects;\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args) {\n    const attributes = Object.assign({}, ...args);\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === undefined)\n            return;\n        if (value === true)\n            str += \" \" + name;\n        const escaped = String(value)\n            .replace(/\"/g, '&#34;')\n            .replace(/'/g, '&#39;');\n        str += \" \" + name + \"=\" + JSON.stringify(escaped);\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, options = {}) => {\n            on_destroy = [];\n            const result = { head: '', css: new Set() };\n            const html = $$render(result, props, {}, options);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.head\n            };\n        },\n        $$render\n    };\n}\n/**\n * Get the current value from a store by subscribing and immediately unsubscribing.\n * @param store readable\n */\nfunction get_store_value(store) {\n    let value;\n    const unsubscribe = store.subscribe(_ => value = _);\n    if (unsubscribe.unsubscribe)\n        unsubscribe.unsubscribe();\n    else\n        unsubscribe();\n    return value;\n}\nfunction add_attribute(name, value) {\n    if (!value)\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(value) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : ``;\n}\n\nfunction bind(component, name, callback) {\n    if (component.$$.props.indexOf(name) === -1)\n        return;\n    component.$$.bound[name] = callback;\n    callback(component.$$.ctx[name]);\n}\nfunction mount_component(component, target, anchor) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment.m(target, anchor);\n    // onMount happens before the initial afterUpdate\n    add_render_callback(() => {\n        const new_on_destroy = on_mount.map(run).filter(is_function);\n        if (on_destroy) {\n            on_destroy.push(...new_on_destroy);\n        }\n        else {\n            // Edge case - component was destroyed immediately,\n            // most likely as a result of a binding initialising\n            run_all(new_on_destroy);\n        }\n        component.$$.on_mount = [];\n    });\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    if (component.$$.fragment) {\n        run_all(component.$$.on_destroy);\n        component.$$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        component.$$.on_destroy = component.$$.fragment = null;\n        component.$$.ctx = {};\n    }\n}\nfunction make_dirty(component, key) {\n    if (!component.$$.dirty) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty = blank_object();\n    }\n    component.$$.dirty[key] = true;\n}\nfunction init(component, options, instance, create_fragment, not_equal, prop_names) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const props = options.props || {};\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props: prop_names,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty: null\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, props, (key, value) => {\n            if ($$.ctx && not_equal($$.ctx[key], $$.ctx[key] = value)) {\n                if ($$.bound[key])\n                    $$.bound[key](value);\n                if (ready)\n                    make_dirty(component, key);\n            }\n        })\n        : props;\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    $$.fragment = create_fragment($$.ctx);\n    if (options.target) {\n        if (options.hydrate) {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment.l(children(options.target));\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement !== 'undefined') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set() {\n            // overridden by instance, if it has props\n        }\n    };\n}\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set() {\n        // overridden by instance, if it has props\n    }\n}\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(`'target' is a required option`);\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn(`Component was already destroyed`); // eslint-disable-line no-console\n        };\n    }\n}\n\nexport { SvelteComponent, SvelteComponentDev, SvelteElement, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, assign, attr, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_element, claim_text, clear_loops, createEventDispatcher, create_animation, create_bidirectional_transition, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, debug, destroy_block, destroy_component, destroy_each, detach, detach_after, detach_before, detach_between, dirty_components, each, element, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_slot_changes, get_slot_context, get_spread_update, get_store_value, globals, group_outros, handle_promise, identity, init, insert, intros, invalid_attribute_name_character, is_client, is_function, is_promise, listen, loop, measure, missing_component, mount_component, noop, not_equal, now, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_input_type, set_now, set_raf, set_style, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_keyed_each, validate_component, validate_store, xlink_attr };\n","<script>\nexport let label;\nexport let options;\nexport let current;\nexport let onChange;\n\n</script>\n\n<div>\n{label}\n\n    <select bind:value={current} on:change={() => onChange(current)}>\n        {#each options as option}\n            <option value={option}>\n                {option}\n            </option>\n        {/each}\n    </select>\n\n    {current}\n\n</div>","function defaultEqualityCheck(a, b) {\n  return a === b;\n}\n\nfunction areArgumentsShallowlyEqual(equalityCheck, prev, next) {\n  if (prev === null || next === null || prev.length !== next.length) {\n    return false;\n  }\n\n  // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.\n  var length = prev.length;\n  for (var i = 0; i < length; i++) {\n    if (!equalityCheck(prev[i], next[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function defaultMemoize(func) {\n  var equalityCheck = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultEqualityCheck;\n\n  var lastArgs = null;\n  var lastResult = null;\n  // we reference arguments instead of spreading them for performance reasons\n  return function () {\n    if (!areArgumentsShallowlyEqual(equalityCheck, lastArgs, arguments)) {\n      // apply arguments instead of spreading for performance.\n      lastResult = func.apply(null, arguments);\n    }\n\n    lastArgs = arguments;\n    return lastResult;\n  };\n}\n\nfunction getDependencies(funcs) {\n  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;\n\n  if (!dependencies.every(function (dep) {\n    return typeof dep === 'function';\n  })) {\n    var dependencyTypes = dependencies.map(function (dep) {\n      return typeof dep;\n    }).join(', ');\n    throw new Error('Selector creators expect all input-selectors to be functions, ' + ('instead received the following types: [' + dependencyTypes + ']'));\n  }\n\n  return dependencies;\n}\n\nexport function createSelectorCreator(memoize) {\n  for (var _len = arguments.length, memoizeOptions = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    memoizeOptions[_key - 1] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, funcs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      funcs[_key2] = arguments[_key2];\n    }\n\n    var recomputations = 0;\n    var resultFunc = funcs.pop();\n    var dependencies = getDependencies(funcs);\n\n    var memoizedResultFunc = memoize.apply(undefined, [function () {\n      recomputations++;\n      // apply arguments instead of spreading for performance.\n      return resultFunc.apply(null, arguments);\n    }].concat(memoizeOptions));\n\n    // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.\n    var selector = memoize(function () {\n      var params = [];\n      var length = dependencies.length;\n\n      for (var i = 0; i < length; i++) {\n        // apply arguments instead of spreading and mutate a local list of params for performance.\n        params.push(dependencies[i].apply(null, arguments));\n      }\n\n      // apply arguments instead of spreading for performance.\n      return memoizedResultFunc.apply(null, params);\n    });\n\n    selector.resultFunc = resultFunc;\n    selector.dependencies = dependencies;\n    selector.recomputations = function () {\n      return recomputations;\n    };\n    selector.resetRecomputations = function () {\n      return recomputations = 0;\n    };\n    return selector;\n  };\n}\n\nexport var createSelector = createSelectorCreator(defaultMemoize);\n\nexport function createStructuredSelector(selectors) {\n  var selectorCreator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : createSelector;\n\n  if (typeof selectors !== 'object') {\n    throw new Error('createStructuredSelector expects first argument to be an object ' + ('where each property is a selector, instead received a ' + typeof selectors));\n  }\n  var objectKeys = Object.keys(selectors);\n  return selectorCreator(objectKeys.map(function (key) {\n    return selectors[key];\n  }), function () {\n    for (var _len3 = arguments.length, values = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      values[_key3] = arguments[_key3];\n    }\n\n    return values.reduce(function (composition, value, index) {\n      composition[objectKeys[index]] = value;\n      return composition;\n    }, {});\n  });\n}","var obj;\nvar NOTHING = typeof Symbol !== \"undefined\" ? Symbol(\"immer-nothing\") : ( obj = {}, obj[\"immer-nothing\"] = true, obj );\nvar DRAFTABLE = typeof Symbol !== \"undefined\" && Symbol.for ? Symbol.for(\"immer-draftable\") : \"__$immer_draftable\";\nvar DRAFT_STATE = typeof Symbol !== \"undefined\" && Symbol.for ? Symbol.for(\"immer-state\") : \"__$immer_state\";\nfunction isDraft(value) {\n  return !!value && !!value[DRAFT_STATE];\n}\nfunction isDraftable(value) {\n  if (!value || typeof value !== \"object\") { return false; }\n  if (Array.isArray(value)) { return true; }\n  var proto = Object.getPrototypeOf(value);\n  if (!proto || proto === Object.prototype) { return true; }\n  return !!value[DRAFTABLE] || !!value.constructor[DRAFTABLE];\n}\nfunction original(value) {\n  if (value && value[DRAFT_STATE]) {\n    return value[DRAFT_STATE].base;\n  } // otherwise return undefined\n\n}\nvar assign = Object.assign || function assign(target, value) {\n  for (var key in value) {\n    if (has(value, key)) {\n      target[key] = value[key];\n    }\n  }\n\n  return target;\n};\nvar ownKeys = typeof Reflect !== \"undefined\" && Reflect.ownKeys ? Reflect.ownKeys : typeof Object.getOwnPropertySymbols !== \"undefined\" ? function (obj) { return Object.getOwnPropertyNames(obj).concat(Object.getOwnPropertySymbols(obj)); } : Object.getOwnPropertyNames;\nfunction shallowCopy(base, invokeGetters) {\n  if ( invokeGetters === void 0 ) invokeGetters = false;\n\n  if (Array.isArray(base)) { return base.slice(); }\n  var clone = Object.create(Object.getPrototypeOf(base));\n  ownKeys(base).forEach(function (key) {\n    if (key === DRAFT_STATE) {\n      return; // Never copy over draft state.\n    }\n\n    var desc = Object.getOwnPropertyDescriptor(base, key);\n    var value = desc.value;\n\n    if (desc.get) {\n      if (!invokeGetters) {\n        throw new Error(\"Immer drafts cannot have computed properties\");\n      }\n\n      value = desc.get.call(base);\n    }\n\n    if (desc.enumerable) {\n      clone[key] = value;\n    } else {\n      Object.defineProperty(clone, key, {\n        value: value,\n        writable: true,\n        configurable: true\n      });\n    }\n  });\n  return clone;\n}\nfunction each(value, cb) {\n  if (Array.isArray(value)) {\n    for (var i = 0; i < value.length; i++) { cb(i, value[i], value); }\n  } else {\n    ownKeys(value).forEach(function (key) { return cb(key, value[key], value); });\n  }\n}\nfunction isEnumerable(base, prop) {\n  var desc = Object.getOwnPropertyDescriptor(base, prop);\n  return !!desc && desc.enumerable;\n}\nfunction has(thing, prop) {\n  return Object.prototype.hasOwnProperty.call(thing, prop);\n}\nfunction is(x, y) {\n  // From: https://github.com/facebook/fbjs/blob/c69904a511b900266935168223063dd8772dfc40/packages/fbjs/src/core/shallowEqual.js\n  if (x === y) {\n    return x !== 0 || 1 / x === 1 / y;\n  } else {\n    return x !== x && y !== y;\n  }\n}\n\n/** Each scope represents a `produce` call. */\n\nvar ImmerScope = function ImmerScope(parent) {\n  this.drafts = [];\n  this.parent = parent; // Whenever the modified draft contains a draft from another scope, we\n  // need to prevent auto-freezing so the unowned draft can be finalized.\n\n  this.canAutoFreeze = true; // To avoid prototype lookups:\n\n  this.patches = null;\n};\n\nImmerScope.prototype.usePatches = function usePatches (patchListener) {\n  if (patchListener) {\n    this.patches = [];\n    this.inversePatches = [];\n    this.patchListener = patchListener;\n  }\n};\n\nImmerScope.prototype.revoke = function revoke$1 () {\n  this.leave();\n  this.drafts.forEach(revoke);\n  this.drafts = null; // Make draft-related methods throw.\n};\n\nImmerScope.prototype.leave = function leave () {\n  if (this === ImmerScope.current) {\n    ImmerScope.current = this.parent;\n  }\n};\nImmerScope.current = null;\n\nImmerScope.enter = function () {\n  return this.current = new ImmerScope(this.current);\n};\n\nfunction revoke(draft) {\n  draft[DRAFT_STATE].revoke();\n}\n\n// but share them all instead\n\nvar descriptors = {};\nfunction willFinalize(scope, result, isReplaced) {\n  scope.drafts.forEach(function (draft) {\n    draft[DRAFT_STATE].finalizing = true;\n  });\n\n  if (!isReplaced) {\n    if (scope.patches) {\n      markChangesRecursively(scope.drafts[0]);\n    } // This is faster when we don't care about which attributes changed.\n\n\n    markChangesSweep(scope.drafts);\n  } // When a child draft is returned, look for changes.\n  else if (isDraft(result) && result[DRAFT_STATE].scope === scope) {\n      markChangesSweep(scope.drafts);\n    }\n}\nfunction createProxy(base, parent) {\n  var isArray = Array.isArray(base);\n  var draft = clonePotentialDraft(base);\n  each(draft, function (prop) {\n    proxyProperty(draft, prop, isArray || isEnumerable(base, prop));\n  }); // See \"proxy.js\" for property documentation.\n\n  var scope = parent ? parent.scope : ImmerScope.current;\n  var state = {\n    scope: scope,\n    modified: false,\n    finalizing: false,\n    // es5 only\n    finalized: false,\n    assigned: {},\n    parent: parent,\n    base: base,\n    draft: draft,\n    copy: null,\n    revoke: revoke$1,\n    revoked: false // es5 only\n\n  };\n  createHiddenProperty(draft, DRAFT_STATE, state);\n  scope.drafts.push(draft);\n  return draft;\n}\n\nfunction revoke$1() {\n  this.revoked = true;\n}\n\nfunction source(state) {\n  return state.copy || state.base;\n} // Access a property without creating an Immer draft.\n\n\nfunction peek(draft, prop) {\n  var state = draft[DRAFT_STATE];\n\n  if (state && !state.finalizing) {\n    state.finalizing = true;\n    var value = draft[prop];\n    state.finalizing = false;\n    return value;\n  }\n\n  return draft[prop];\n}\n\nfunction get(state, prop) {\n  assertUnrevoked(state);\n  var value = peek(source(state), prop);\n  if (state.finalizing) { return value; } // Create a draft if the value is unmodified.\n\n  if (value === peek(state.base, prop) && isDraftable(value)) {\n    prepareCopy(state);\n    return state.copy[prop] = createProxy(value, state);\n  }\n\n  return value;\n}\n\nfunction set(state, prop, value) {\n  assertUnrevoked(state);\n  state.assigned[prop] = true;\n\n  if (!state.modified) {\n    if (is(value, peek(source(state), prop))) { return; }\n    markChanged(state);\n    prepareCopy(state);\n  }\n\n  state.copy[prop] = value;\n}\n\nfunction markChanged(state) {\n  if (!state.modified) {\n    state.modified = true;\n    if (state.parent) { markChanged(state.parent); }\n  }\n}\n\nfunction prepareCopy(state) {\n  if (!state.copy) { state.copy = clonePotentialDraft(state.base); }\n}\n\nfunction clonePotentialDraft(base) {\n  var state = base && base[DRAFT_STATE];\n\n  if (state) {\n    state.finalizing = true;\n    var draft = shallowCopy(state.draft, true);\n    state.finalizing = false;\n    return draft;\n  }\n\n  return shallowCopy(base);\n}\n\nfunction proxyProperty(draft, prop, enumerable) {\n  var desc = descriptors[prop];\n\n  if (desc) {\n    desc.enumerable = enumerable;\n  } else {\n    descriptors[prop] = desc = {\n      configurable: true,\n      enumerable: enumerable,\n\n      get: function get$1() {\n        return get(this[DRAFT_STATE], prop);\n      },\n\n      set: function set$1(value) {\n        set(this[DRAFT_STATE], prop, value);\n      }\n\n    };\n  }\n\n  Object.defineProperty(draft, prop, desc);\n}\n\nfunction assertUnrevoked(state) {\n  if (state.revoked === true) { throw new Error(\"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \" + JSON.stringify(source(state))); }\n} // This looks expensive, but only proxies are visited, and only objects without known changes are scanned.\n\n\nfunction markChangesSweep(drafts) {\n  // The natural order of drafts in the `scope` array is based on when they\n  // were accessed. By processing drafts in reverse natural order, we have a\n  // better chance of processing leaf nodes first. When a leaf node is known to\n  // have changed, we can avoid any traversal of its ancestor nodes.\n  for (var i = drafts.length - 1; i >= 0; i--) {\n    var state = drafts[i][DRAFT_STATE];\n\n    if (!state.modified) {\n      if (Array.isArray(state.base)) {\n        if (hasArrayChanges(state)) { markChanged(state); }\n      } else if (hasObjectChanges(state)) { markChanged(state); }\n    }\n  }\n}\n\nfunction markChangesRecursively(object) {\n  if (!object || typeof object !== \"object\") { return; }\n  var state = object[DRAFT_STATE];\n  if (!state) { return; }\n  var base = state.base;\n  var draft = state.draft;\n  var assigned = state.assigned;\n\n  if (!Array.isArray(object)) {\n    // Look for added keys.\n    Object.keys(draft).forEach(function (key) {\n      // The `undefined` check is a fast path for pre-existing keys.\n      if (base[key] === undefined && !has(base, key)) {\n        assigned[key] = true;\n        markChanged(state);\n      } else if (!assigned[key]) {\n        // Only untouched properties trigger recursion.\n        markChangesRecursively(draft[key]);\n      }\n    }); // Look for removed keys.\n\n    Object.keys(base).forEach(function (key) {\n      // The `undefined` check is a fast path for pre-existing keys.\n      if (draft[key] === undefined && !has(draft, key)) {\n        assigned[key] = false;\n        markChanged(state);\n      }\n    });\n  } else if (hasArrayChanges(state)) {\n    markChanged(state);\n    assigned.length = true;\n\n    if (draft.length < base.length) {\n      for (var i = draft.length; i < base.length; i++) { assigned[i] = false; }\n    } else {\n      for (var i$1 = base.length; i$1 < draft.length; i$1++) { assigned[i$1] = true; }\n    }\n\n    for (var i$2 = 0; i$2 < draft.length; i$2++) {\n      // Only untouched indices trigger recursion.\n      if (assigned[i$2] === undefined) { markChangesRecursively(draft[i$2]); }\n    }\n  }\n}\n\nfunction hasObjectChanges(state) {\n  var base = state.base;\n  var draft = state.draft; // Search for added keys and changed keys. Start at the back, because\n  // non-numeric keys are ordered by time of definition on the object.\n\n  var keys = Object.keys(draft);\n\n  for (var i = keys.length - 1; i >= 0; i--) {\n    var key = keys[i];\n    var baseValue = base[key]; // The `undefined` check is a fast path for pre-existing keys.\n\n    if (baseValue === undefined && !has(base, key)) {\n      return true;\n    } // Once a base key is deleted, future changes go undetected, because its\n    // descriptor is erased. This branch detects any missed changes.\n    else {\n        var value = draft[key];\n        var state$1 = value && value[DRAFT_STATE];\n\n        if (state$1 ? state$1.base !== baseValue : !is(value, baseValue)) {\n          return true;\n        }\n      }\n  } // At this point, no keys were added or changed.\n  // Compare key count to determine if keys were deleted.\n\n\n  return keys.length !== Object.keys(base).length;\n}\n\nfunction hasArrayChanges(state) {\n  var draft = state.draft;\n  if (draft.length !== state.base.length) { return true; } // See #116\n  // If we first shorten the length, our array interceptors will be removed.\n  // If after that new items are added, result in the same original length,\n  // those last items will have no intercepting property.\n  // So if there is no own descriptor on the last position, we know that items were removed and added\n  // N.B.: splice, unshift, etc only shift values around, but not prop descriptors, so we only have to check\n  // the last one\n\n  var descriptor = Object.getOwnPropertyDescriptor(draft, draft.length - 1); // descriptor can be null, but only for newly created sparse arrays, eg. new Array(10)\n\n  if (descriptor && !descriptor.get) { return true; } // For all other cases, we don't have to compare, as they would have been picked up by the index setters\n\n  return false;\n}\n\nfunction createHiddenProperty(target, prop, value) {\n  Object.defineProperty(target, prop, {\n    value: value,\n    enumerable: false,\n    writable: true\n  });\n}\n\nvar legacyProxy = /*#__PURE__*/Object.freeze({\n    willFinalize: willFinalize,\n    createProxy: createProxy\n});\n\nfunction willFinalize$1() {}\nfunction createProxy$1(base, parent) {\n  var scope = parent ? parent.scope : ImmerScope.current;\n  var state = {\n    // Track which produce call this is associated with.\n    scope: scope,\n    // True for both shallow and deep changes.\n    modified: false,\n    // Used during finalization.\n    finalized: false,\n    // Track which properties have been assigned (true) or deleted (false).\n    assigned: {},\n    // The parent draft state.\n    parent: parent,\n    // The base state.\n    base: base,\n    // The base proxy.\n    draft: null,\n    // Any property proxies.\n    drafts: {},\n    // The base copy with any updated values.\n    copy: null,\n    // Called by the `produce` function.\n    revoke: null\n  };\n  var ref = Array.isArray(base) ? // [state] is used for arrays, to make sure the proxy is array-ish and not violate invariants,\n  // although state itself is an object\n  Proxy.revocable([state], arrayTraps) : Proxy.revocable(state, objectTraps);\n  var revoke = ref.revoke;\n  var proxy = ref.proxy;\n  state.draft = proxy;\n  state.revoke = revoke;\n  scope.drafts.push(proxy);\n  return proxy;\n}\nvar objectTraps = {\n  get: get$1,\n\n  has: function has(target, prop) {\n    return prop in source$1(target);\n  },\n\n  ownKeys: function ownKeys(target) {\n    return Reflect.ownKeys(source$1(target));\n  },\n\n  set: set$1,\n  deleteProperty: deleteProperty,\n  getOwnPropertyDescriptor: getOwnPropertyDescriptor,\n\n  defineProperty: function defineProperty() {\n    throw new Error(\"Object.defineProperty() cannot be used on an Immer draft\"); // prettier-ignore\n  },\n\n  getPrototypeOf: function getPrototypeOf(target) {\n    return Object.getPrototypeOf(target.base);\n  },\n\n  setPrototypeOf: function setPrototypeOf() {\n    throw new Error(\"Object.setPrototypeOf() cannot be used on an Immer draft\"); // prettier-ignore\n  }\n\n};\nvar arrayTraps = {};\neach(objectTraps, function (key, fn) {\n  arrayTraps[key] = function () {\n    arguments[0] = arguments[0][0];\n    return fn.apply(this, arguments);\n  };\n});\n\narrayTraps.deleteProperty = function (state, prop) {\n  if (isNaN(parseInt(prop))) {\n    throw new Error(\"Immer only supports deleting array indices\"); // prettier-ignore\n  }\n\n  return objectTraps.deleteProperty.call(this, state[0], prop);\n};\n\narrayTraps.set = function (state, prop, value) {\n  if (prop !== \"length\" && isNaN(parseInt(prop))) {\n    throw new Error(\"Immer only supports setting array indices and the 'length' property\"); // prettier-ignore\n  }\n\n  return objectTraps.set.call(this, state[0], prop, value);\n}; // returns the object we should be reading the current value from, which is base, until some change has been made\n\n\nfunction source$1(state) {\n  return state.copy || state.base;\n} // Access a property without creating an Immer draft.\n\n\nfunction peek$1(draft, prop) {\n  var state = draft[DRAFT_STATE];\n  var desc = Reflect.getOwnPropertyDescriptor(state ? source$1(state) : draft, prop);\n  return desc && desc.value;\n}\n\nfunction get$1(state, prop) {\n  if (prop === DRAFT_STATE) { return state; }\n  var drafts = state.drafts; // Check for existing draft in unmodified state.\n\n  if (!state.modified && has(drafts, prop)) {\n    return drafts[prop];\n  }\n\n  var value = source$1(state)[prop];\n\n  if (state.finalized || !isDraftable(value)) {\n    return value;\n  } // Check for existing draft in modified state.\n\n\n  if (state.modified) {\n    // Assigned values are never drafted. This catches any drafts we created, too.\n    if (value !== peek$1(state.base, prop)) { return value; } // Store drafts on the copy (when one exists).\n\n    drafts = state.copy;\n  }\n\n  return drafts[prop] = createProxy$1(value, state);\n}\n\nfunction set$1(state, prop, value) {\n  if (!state.modified) {\n    var baseValue = peek$1(state.base, prop); // Optimize based on value's truthiness. Truthy values are guaranteed to\n    // never be undefined, so we can avoid the `in` operator. Lastly, truthy\n    // values may be drafts, but falsy values are never drafts.\n\n    var isUnchanged = value ? is(baseValue, value) || value === state.drafts[prop] : is(baseValue, value) && prop in state.base;\n    if (isUnchanged) { return true; }\n    markChanged$1(state);\n  }\n\n  state.assigned[prop] = true;\n  state.copy[prop] = value;\n  return true;\n}\n\nfunction deleteProperty(state, prop) {\n  // The `undefined` check is a fast path for pre-existing keys.\n  if (peek$1(state.base, prop) !== undefined || prop in state.base) {\n    state.assigned[prop] = false;\n    markChanged$1(state);\n  }\n\n  if (state.copy) { delete state.copy[prop]; }\n  return true;\n} // Note: We never coerce `desc.value` into an Immer draft, because we can't make\n// the same guarantee in ES5 mode.\n\n\nfunction getOwnPropertyDescriptor(state, prop) {\n  var owner = source$1(state);\n  var desc = Reflect.getOwnPropertyDescriptor(owner, prop);\n\n  if (desc) {\n    desc.writable = true;\n    desc.configurable = !Array.isArray(owner) || prop !== \"length\";\n  }\n\n  return desc;\n}\n\nfunction markChanged$1(state) {\n  if (!state.modified) {\n    state.modified = true;\n    state.copy = assign(shallowCopy(state.base), state.drafts);\n    state.drafts = null;\n    if (state.parent) { markChanged$1(state.parent); }\n  }\n}\n\nvar modernProxy = /*#__PURE__*/Object.freeze({\n    willFinalize: willFinalize$1,\n    createProxy: createProxy$1\n});\n\nfunction generatePatches(state, basePath, patches, inversePatches) {\n  Array.isArray(state.base) ? generateArrayPatches(state, basePath, patches, inversePatches) : generateObjectPatches(state, basePath, patches, inversePatches);\n}\n\nfunction generateArrayPatches(state, basePath, patches, inversePatches) {\n  var assign, assign$1;\n\n  var base = state.base;\n  var copy = state.copy;\n  var assigned = state.assigned; // Reduce complexity by ensuring `base` is never longer.\n\n  if (copy.length < base.length) {\n    (assign = [copy, base], base = assign[0], copy = assign[1]);\n    (assign$1 = [inversePatches, patches], patches = assign$1[0], inversePatches = assign$1[1]);\n  }\n\n  var delta = copy.length - base.length; // Find the first replaced index.\n\n  var start = 0;\n\n  while (base[start] === copy[start] && start < base.length) {\n    ++start;\n  } // Find the last replaced index. Search from the end to optimize splice patches.\n\n\n  var end = base.length;\n\n  while (end > start && base[end - 1] === copy[end + delta - 1]) {\n    --end;\n  } // Process replaced indices.\n\n\n  for (var i = start; i < end; ++i) {\n    if (assigned[i] && copy[i] !== base[i]) {\n      var path = basePath.concat([i]);\n      patches.push({\n        op: \"replace\",\n        path: path,\n        value: copy[i]\n      });\n      inversePatches.push({\n        op: \"replace\",\n        path: path,\n        value: base[i]\n      });\n    }\n  }\n\n  var useRemove = end != base.length;\n  var replaceCount = patches.length; // Process added indices.\n\n  for (var i$1 = end + delta - 1; i$1 >= end; --i$1) {\n    var path$1 = basePath.concat([i$1]);\n    patches[replaceCount + i$1 - end] = {\n      op: \"add\",\n      path: path$1,\n      value: copy[i$1]\n    };\n\n    if (useRemove) {\n      inversePatches.push({\n        op: \"remove\",\n        path: path$1\n      });\n    }\n  } // One \"replace\" patch reverses all non-splicing \"add\" patches.\n\n\n  if (!useRemove) {\n    inversePatches.push({\n      op: \"replace\",\n      path: basePath.concat([\"length\"]),\n      value: base.length\n    });\n  }\n}\n\nfunction generateObjectPatches(state, basePath, patches, inversePatches) {\n  var base = state.base;\n  var copy = state.copy;\n  each(state.assigned, function (key, assignedValue) {\n    var origValue = base[key];\n    var value = copy[key];\n    var op = !assignedValue ? \"remove\" : key in base ? \"replace\" : \"add\";\n    if (origValue === value && op === \"replace\") { return; }\n    var path = basePath.concat(key);\n    patches.push(op === \"remove\" ? {\n      op: op,\n      path: path\n    } : {\n      op: op,\n      path: path,\n      value: value\n    });\n    inversePatches.push(op === \"add\" ? {\n      op: \"remove\",\n      path: path\n    } : op === \"remove\" ? {\n      op: \"add\",\n      path: path,\n      value: origValue\n    } : {\n      op: \"replace\",\n      path: path,\n      value: origValue\n    });\n  });\n}\n\nfunction applyPatches(draft, patches) {\n  for (var i = 0; i < patches.length; i++) {\n    var patch = patches[i];\n    var path = patch.path;\n\n    if (path.length === 0 && patch.op === \"replace\") {\n      draft = patch.value;\n    } else {\n      var base = draft;\n\n      for (var i$1 = 0; i$1 < path.length - 1; i$1++) {\n        base = base[path[i$1]];\n        if (!base || typeof base !== \"object\") { throw new Error(\"Cannot apply patch, path doesn't resolve: \" + path.join(\"/\")); } // prettier-ignore\n      }\n\n      var key = path[path.length - 1];\n\n      switch (patch.op) {\n        case \"replace\":\n          base[key] = patch.value;\n          break;\n\n        case \"add\":\n          if (Array.isArray(base)) {\n            // TODO: support \"foo/-\" paths for appending to an array\n            base.splice(key, 0, patch.value);\n          } else {\n            base[key] = patch.value;\n          }\n\n          break;\n\n        case \"remove\":\n          if (Array.isArray(base)) {\n            base.splice(key, 1);\n          } else {\n            delete base[key];\n          }\n\n          break;\n\n        default:\n          throw new Error(\"Unsupported patch operation: \" + patch.op);\n      }\n    }\n  }\n\n  return draft;\n}\n\nfunction verifyMinified() {}\n\nvar configDefaults = {\n  useProxies: typeof Proxy !== \"undefined\" && typeof Reflect !== \"undefined\",\n  autoFreeze: typeof process !== \"undefined\" ? process.env.NODE_ENV !== \"production\" : verifyMinified.name === \"verifyMinified\",\n  onAssign: null,\n  onDelete: null,\n  onCopy: null\n};\nvar Immer = function Immer(config) {\n  assign(this, configDefaults, config);\n  this.setUseProxies(this.useProxies);\n  this.produce = this.produce.bind(this);\n};\n\nImmer.prototype.produce = function produce (base, recipe, patchListener) {\n    var this$1 = this;\n\n  // curried invocation\n  if (typeof base === \"function\" && typeof recipe !== \"function\") {\n    var defaultBase = recipe;\n    recipe = base;\n    var self = this;\n    return function curriedProduce(base) {\n        var this$1 = this;\n        if ( base === void 0 ) base = defaultBase;\n        var args = [], len = arguments.length - 1;\n        while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];\n\n      return self.produce(base, function (draft) { return recipe.call.apply(recipe, [ this$1, draft ].concat( args )); }); // prettier-ignore\n    };\n  } // prettier-ignore\n\n\n  {\n    if (typeof recipe !== \"function\") {\n      throw new Error(\"The first or second argument to `produce` must be a function\");\n    }\n\n    if (patchListener !== undefined && typeof patchListener !== \"function\") {\n      throw new Error(\"The third argument to `produce` must be a function or undefined\");\n    }\n  }\n  var result; // Only plain objects, arrays, and \"immerable classes\" are drafted.\n\n  if (isDraftable(base)) {\n    var scope = ImmerScope.enter();\n    var proxy = this.createProxy(base);\n    var hasError = true;\n\n    try {\n      result = recipe(proxy);\n      hasError = false;\n    } finally {\n      // finally instead of catch + rethrow better preserves original stack\n      if (hasError) { scope.revoke(); }else { scope.leave(); }\n    }\n\n    if (result instanceof Promise) {\n      return result.then(function (result) {\n        scope.usePatches(patchListener);\n        return this$1.processResult(result, scope);\n      }, function (error) {\n        scope.revoke();\n        throw error;\n      });\n    }\n\n    scope.usePatches(patchListener);\n    return this.processResult(result, scope);\n  } else {\n    result = recipe(base);\n    if (result === undefined) { return base; }\n    return result !== NOTHING ? result : undefined;\n  }\n};\n\nImmer.prototype.createDraft = function createDraft (base) {\n  if (!isDraftable(base)) {\n    throw new Error(\"First argument to `createDraft` must be a plain object, an array, or an immerable object\"); // prettier-ignore\n  }\n\n  var scope = ImmerScope.enter();\n  var proxy = this.createProxy(base);\n  proxy[DRAFT_STATE].isManual = true;\n  scope.leave();\n  return proxy;\n};\n\nImmer.prototype.finishDraft = function finishDraft (draft, patchListener) {\n  var state = draft && draft[DRAFT_STATE];\n\n  if (!state || !state.isManual) {\n    throw new Error(\"First argument to `finishDraft` must be a draft returned by `createDraft`\"); // prettier-ignore\n  }\n\n  if (state.finalized) {\n    throw new Error(\"The given draft is already finalized\"); // prettier-ignore\n  }\n\n  var scope = state.scope;\n  scope.usePatches(patchListener);\n  return this.processResult(undefined, scope);\n};\n\nImmer.prototype.setAutoFreeze = function setAutoFreeze (value) {\n  this.autoFreeze = value;\n};\n\nImmer.prototype.setUseProxies = function setUseProxies (value) {\n  this.useProxies = value;\n  assign(this, value ? modernProxy : legacyProxy);\n};\n\nImmer.prototype.applyPatches = function applyPatches$1 (base, patches) {\n  // Mutate the base state when a draft is passed.\n  if (isDraft(base)) {\n    return applyPatches(base, patches);\n  } // Otherwise, produce a copy of the base state.\n\n\n  return this.produce(base, function (draft) { return applyPatches(draft, patches); });\n};\n/** @internal */\n\n\nImmer.prototype.processResult = function processResult (result, scope) {\n  var baseDraft = scope.drafts[0];\n  var isReplaced = result !== undefined && result !== baseDraft;\n  this.willFinalize(scope, result, isReplaced);\n\n  if (isReplaced) {\n    if (baseDraft[DRAFT_STATE].modified) {\n      scope.revoke();\n      throw new Error(\"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\"); // prettier-ignore\n    }\n\n    if (isDraftable(result)) {\n      // Finalize the result in case it contains (or is) a subset of the draft.\n      result = this.finalize(result, null, scope);\n    }\n\n    if (scope.patches) {\n      scope.patches.push({\n        op: \"replace\",\n        path: [],\n        value: result\n      });\n      scope.inversePatches.push({\n        op: \"replace\",\n        path: [],\n        value: baseDraft[DRAFT_STATE].base\n      });\n    }\n  } else {\n    // Finalize the base draft.\n    result = this.finalize(baseDraft, [], scope);\n  }\n\n  scope.revoke();\n\n  if (scope.patches) {\n    scope.patchListener(scope.patches, scope.inversePatches);\n  }\n\n  return result !== NOTHING ? result : undefined;\n};\n/**\n * @internal\n * Finalize a draft, returning either the unmodified base state or a modified\n * copy of the base state.\n */\n\n\nImmer.prototype.finalize = function finalize (draft, path, scope) {\n    var this$1 = this;\n\n  var state = draft[DRAFT_STATE];\n\n  if (!state) {\n    if (Object.isFrozen(draft)) { return draft; }\n    return this.finalizeTree(draft, null, scope);\n  } // Never finalize drafts owned by another scope.\n\n\n  if (state.scope !== scope) {\n    return draft;\n  }\n\n  if (!state.modified) {\n    return state.base;\n  }\n\n  if (!state.finalized) {\n    state.finalized = true;\n    this.finalizeTree(state.draft, path, scope);\n\n    if (this.onDelete) {\n      // The `assigned` object is unreliable with ES5 drafts.\n      if (this.useProxies) {\n        var assigned = state.assigned;\n\n        for (var prop in assigned) {\n          if (!assigned[prop]) { this.onDelete(state, prop); }\n        }\n      } else {\n        var base = state.base;\n          var copy = state.copy;\n        each(base, function (prop) {\n          if (!has(copy, prop)) { this$1.onDelete(state, prop); }\n        });\n      }\n    }\n\n    if (this.onCopy) {\n      this.onCopy(state);\n    } // At this point, all descendants of `state.copy` have been finalized,\n    // so we can be sure that `scope.canAutoFreeze` is accurate.\n\n\n    if (this.autoFreeze && scope.canAutoFreeze) {\n      Object.freeze(state.copy);\n    }\n\n    if (path && scope.patches) {\n      generatePatches(state, path, scope.patches, scope.inversePatches);\n    }\n  }\n\n  return state.copy;\n};\n/**\n * @internal\n * Finalize all drafts in the given state tree.\n */\n\n\nImmer.prototype.finalizeTree = function finalizeTree (root, rootPath, scope) {\n    var this$1 = this;\n\n  var state = root[DRAFT_STATE];\n\n  if (state) {\n    if (!this.useProxies) {\n      // Create the final copy, with added keys and without deleted keys.\n      state.copy = shallowCopy(state.draft, true);\n    }\n\n    root = state.copy;\n  }\n\n  var needPatches = !!rootPath && !!scope.patches;\n\n  var finalizeProperty = function (prop, value, parent) {\n    if (value === parent) {\n      throw Error(\"Immer forbids circular references\");\n    } // In the `finalizeTree` method, only the `root` object may be a draft.\n\n\n    var isDraftProp = !!state && parent === root;\n\n    if (isDraft(value)) {\n      var path = isDraftProp && needPatches && !state.assigned[prop] ? rootPath.concat(prop) : null; // Drafts owned by `scope` are finalized here.\n\n      value = this$1.finalize(value, path, scope); // Drafts from another scope must prevent auto-freezing.\n\n      if (isDraft(value)) {\n        scope.canAutoFreeze = false;\n      } // Preserve non-enumerable properties.\n\n\n      if (Array.isArray(parent) || isEnumerable(parent, prop)) {\n        parent[prop] = value;\n      } else {\n        Object.defineProperty(parent, prop, {\n          value: value\n        });\n      } // Unchanged drafts are never passed to the `onAssign` hook.\n\n\n      if (isDraftProp && value === state.base[prop]) { return; }\n    } // Unchanged draft properties are ignored.\n    else if (isDraftProp && is(value, state.base[prop])) {\n        return;\n      } // Search new objects for unfinalized drafts. Frozen objects should never contain drafts.\n      else if (isDraftable(value) && !Object.isFrozen(value)) {\n          each(value, finalizeProperty);\n        }\n\n    if (isDraftProp && this$1.onAssign) {\n      this$1.onAssign(state, prop, value);\n    }\n  };\n\n  each(root, finalizeProperty);\n  return root;\n};\n\nvar immer = new Immer();\n/**\n * The `produce` function takes a value and a \"recipe function\" (whose\n * return value often depends on the base state). The recipe function is\n * free to mutate its first argument however it wants. All mutations are\n * only ever applied to a __copy__ of the base state.\n *\n * Pass only a function to create a \"curried producer\" which relieves you\n * from passing the recipe function every time.\n *\n * Only plain objects and arrays are made mutable. All other objects are\n * considered uncopyable.\n *\n * Note: This function is __bound__ to its `Immer` instance.\n *\n * @param {any} base - the initial state\n * @param {Function} producer - function that receives a proxy of the base state as first argument and which can be freely modified\n * @param {Function} patchListener - optional function that will be called with all the patches produced here\n * @returns {any} a new state, or the initial state if nothing was modified\n */\n\nvar produce = immer.produce;\n/**\n * Pass true to automatically freeze all copies created by Immer.\n *\n * By default, auto-freezing is disabled in production.\n */\n\nvar setAutoFreeze = immer.setAutoFreeze.bind(immer);\n/**\n * Pass true to use the ES2015 `Proxy` class when creating drafts, which is\n * always faster than using ES5 proxies.\n *\n * By default, feature detection is used, so calling this is rarely necessary.\n */\n\nvar setUseProxies = immer.setUseProxies.bind(immer);\n/**\n * Apply an array of Immer patches to the first argument.\n *\n * This function is a producer, which means copy-on-write is in effect.\n */\n\nvar applyPatches$1 = immer.applyPatches.bind(immer);\n/**\n * Create an Immer draft from the given base state, which may be a draft itself.\n * The draft can be modified until you finalize it with the `finishDraft` function.\n */\n\nvar createDraft = immer.createDraft.bind(immer);\n/**\n * Finalize an Immer draft from a `createDraft` call, returning the base state\n * (if no changes were made) or a modified copy. The draft must *not* be\n * mutated afterwards.\n *\n * Pass a function as the 2nd argument to generate Immer patches based on the\n * changes that were made.\n */\n\nvar finishDraft = immer.finishDraft.bind(immer);\n\nexport default produce;\nexport { Immer, applyPatches$1 as applyPatches, createDraft, finishDraft, DRAFTABLE as immerable, isDraft, isDraftable, NOTHING as nothing, original, produce, setAutoFreeze, setUseProxies };\n//# sourceMappingURL=immer.module.js.map\n","import { safe_not_equal, noop, run_all, is_function } from '../internal';\nexport { get_store_value as get } from '../internal';\n\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe,\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = [];\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (!stop) {\n                return; // not ready\n            }\n            subscribers.forEach((s) => s[1]());\n            subscribers.forEach((s) => s[0](value));\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.push(subscriber);\n        if (subscribers.length === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            const index = subscribers.indexOf(subscriber);\n            if (index !== -1) {\n                subscribers.splice(index, 1);\n            }\n            if (subscribers.length === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\n/**\n * Derived value store by synchronizing one or more readable stores and\n * applying an aggregation function over its input values.\n * @param {Stores} stores input stores\n * @param {function(Stores=, function(*)=):*}fn function callback that aggregates the values\n * @param {*=}initial_value when used asynchronously\n */\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    const invalidators = [];\n    const store = readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => store.subscribe((value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            run_all(invalidators);\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n    return {\n        subscribe(run, invalidate = noop) {\n            invalidators.push(invalidate);\n            const unsubscribe = store.subscribe(run, invalidate);\n            return () => {\n                const index = invalidators.indexOf(invalidate);\n                if (index !== -1) {\n                    invalidators.splice(index, 1);\n                }\n                unsubscribe();\n            };\n        }\n    };\n}\n\nexport { derived, readable, writable };\n","import { createSelector } from 'reselect'\nimport { writable, derived } from \"svelte/store\"\nimport produce from \"immer\"\n\nexport const options = {\n    product: ['firefox', 'fenix'],\n    channel: ['release', 'beta', 'nightly'],\n    os: ['mac', 'windows', 'linux'],\n    randomNumbers: []\n}\n\nconst initStore = {\n    channel: 'release',\n    os: 'mac',\n    randomNumbers: []\n}\n\n// here, we will separate out subscribe from update.\nconst STORE = writable(initStore)\n\n// this works very similar to what you'd expect in a redux setting.\n// eg. dispatch(changeChannel('beta')) should take the changeChannel\n// action, which returns a draft-mutating function to be fed into\n// immer's produce function.\nexport const dispatch = func => {\n    STORE.update(state => produce(state, func));\n}\n\nconst getNextId = (arr) => {\n    if (!arr.length) return 0;\n    return Math.max(...arr.map(it => it.id), 0) + 1;\n}\n\n// connect is a way to return a new function that takes in arguments\n// and calls dispatch explicitly.\nexport const connect = func => {\n    return (...args) => dispatch(func(...args))\n}\n\nexport const changeChannel = (ch) => draft =>  { draft.channel = ch }\nexport const changeOS = (os) => draft =>  { draft.os = os }\n\nconst randomNumber = () => {\n    return Math.random() * 100;\n}\n\nexport const addRandomNumber = () => draft => {\n    draft.randomNumbers.push({\n        value: randomNumber(),\n        id: getNextId(draft.randomNumbers)\n    })\n}\n\nexport const randomizeNumber = (id) => draft => {\n    const ind = draft.randomNumbers.findIndex(r=>r.id === id);\n    draft.randomNumbers[ind].value = randomNumber();\n}\n\nexport const deleteRandomNumber = id => draft => {\n    draft.randomNumbers = draft.randomNumbers.filter(r=> r.id !== id)\n}\n\n\n// let's select out just just parts of the state we want to add to the queryString.\n\nexport const serverParams = derived(STORE, $st => {\n    return {os: $st.os, channel: $st.channel}\n})\n\n// make the querystring portion off of serverParams.\n\nexport const queryString = derived(serverParams, $params => {\n    const keys = Object.keys($params).sort()\n    return keys.map(k => `${k}=${$params[k]}`).join('&')\n})\n\n// we default export only the subscribe function.\n// This makes the store somewhat read-only by nature, since\n// the components that will use the store can only read from it.\n// See https://svelte.dev/tutorial/custom-stores for an example of\n// this pattern in action (albeit done from a different perspective.)\nexport default { subscribe: STORE.subscribe }","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  return new FormatSpecifier(specifier);\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nfunction FormatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  this.fill = match[1] || \" \";\n  this.align = match[2] || \">\";\n  this.sign = match[3] || \"-\";\n  this.symbol = match[4] || \"\";\n  this.zero = !!match[5];\n  this.width = match[6] && +match[6];\n  this.comma = !!match[7];\n  this.precision = match[8] && +match[8].slice(1);\n  this.trim = !!match[9];\n  this.type = match[10] || \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width == null ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","import formatDecimal from \"./formatDecimal\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatPrefixAuto from \"./formatPrefixAuto\";\nimport formatRounded from \"./formatRounded\";\n\nexport default {\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent\";\nimport formatGroup from \"./formatGroup\";\nimport formatNumerals from \"./formatNumerals\";\nimport formatSpecifier from \"./formatSpecifier\";\nimport formatTrim from \"./formatTrim\";\nimport formatTypes from \"./formatTypes\";\nimport {prefixExponent} from \"./formatPrefixAuto\";\nimport identity from \"./identity\";\n\nvar prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity,\n      currency = locale.currency,\n      decimal = locale.decimal,\n      numerals = locale.numerals ? formatNumerals(locale.numerals) : identity,\n      percent = locale.percent || \"%\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision == null && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision == null ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Perform the initial formatting.\n        var valueNegative = value < 0;\n        value = formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero during formatting, treat as positive.\n        if (valueNegative && +value === 0) valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : \"-\") : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (i0 > 0) { if (!+s[i]) break out; i0 = 0; } break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","export { identity as linear } from '../internal';\n\n/*\nAdapted from https://github.com/mattdesl\nDistributed under MIT License https://github.com/mattdesl/eases/blob/master/LICENSE.md\n*/\nfunction backInOut(t) {\n    const s = 1.70158 * 1.525;\n    if ((t *= 2) < 1)\n        return 0.5 * (t * t * ((s + 1) * t - s));\n    return 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\n}\nfunction backIn(t) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n}\nfunction backOut(t) {\n    const s = 1.70158;\n    return --t * t * ((s + 1) * t + s) + 1;\n}\nfunction bounceOut(t) {\n    const a = 4.0 / 11.0;\n    const b = 8.0 / 11.0;\n    const c = 9.0 / 10.0;\n    const ca = 4356.0 / 361.0;\n    const cb = 35442.0 / 1805.0;\n    const cc = 16061.0 / 1805.0;\n    const t2 = t * t;\n    return t < a\n        ? 7.5625 * t2\n        : t < b\n            ? 9.075 * t2 - 9.9 * t + 3.4\n            : t < c\n                ? ca * t2 - cb * t + cc\n                : 10.8 * t * t - 20.52 * t + 10.72;\n}\nfunction bounceInOut(t) {\n    return t < 0.5\n        ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0))\n        : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5;\n}\nfunction bounceIn(t) {\n    return 1.0 - bounceOut(1.0 - t);\n}\nfunction circInOut(t) {\n    if ((t *= 2) < 1)\n        return -0.5 * (Math.sqrt(1 - t * t) - 1);\n    return 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n}\nfunction circIn(t) {\n    return 1.0 - Math.sqrt(1.0 - t * t);\n}\nfunction circOut(t) {\n    return Math.sqrt(1 - --t * t);\n}\nfunction cubicInOut(t) {\n    return t < 0.5 ? 4.0 * t * t * t : 0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0;\n}\nfunction cubicIn(t) {\n    return t * t * t;\n}\nfunction cubicOut(t) {\n    const f = t - 1.0;\n    return f * f * f + 1.0;\n}\nfunction elasticInOut(t) {\n    return t < 0.5\n        ? 0.5 *\n            Math.sin(((+13.0 * Math.PI) / 2) * 2.0 * t) *\n            Math.pow(2.0, 10.0 * (2.0 * t - 1.0))\n        : 0.5 *\n            Math.sin(((-13.0 * Math.PI) / 2) * (2.0 * t - 1.0 + 1.0)) *\n            Math.pow(2.0, -10.0 * (2.0 * t - 1.0)) +\n            1.0;\n}\nfunction elasticIn(t) {\n    return Math.sin((13.0 * t * Math.PI) / 2) * Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction elasticOut(t) {\n    return (Math.sin((-13.0 * (t + 1.0) * Math.PI) / 2) * Math.pow(2.0, -10.0 * t) + 1.0);\n}\nfunction expoInOut(t) {\n    return t === 0.0 || t === 1.0\n        ? t\n        : t < 0.5\n            ? +0.5 * Math.pow(2.0, 20.0 * t - 10.0)\n            : -0.5 * Math.pow(2.0, 10.0 - t * 20.0) + 1.0;\n}\nfunction expoIn(t) {\n    return t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction expoOut(t) {\n    return t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t);\n}\nfunction quadInOut(t) {\n    t /= 0.5;\n    if (t < 1)\n        return 0.5 * t * t;\n    t--;\n    return -0.5 * (t * (t - 2) - 1);\n}\nfunction quadIn(t) {\n    return t * t;\n}\nfunction quadOut(t) {\n    return -t * (t - 2.0);\n}\nfunction quartInOut(t) {\n    return t < 0.5\n        ? +8.0 * Math.pow(t, 4.0)\n        : -8.0 * Math.pow(t - 1.0, 4.0) + 1.0;\n}\nfunction quartIn(t) {\n    return Math.pow(t, 4.0);\n}\nfunction quartOut(t) {\n    return Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0;\n}\nfunction quintInOut(t) {\n    if ((t *= 2) < 1)\n        return 0.5 * t * t * t * t * t;\n    return 0.5 * ((t -= 2) * t * t * t * t + 2);\n}\nfunction quintIn(t) {\n    return t * t * t * t * t;\n}\nfunction quintOut(t) {\n    return --t * t * t * t * t + 1;\n}\nfunction sineInOut(t) {\n    return -0.5 * (Math.cos(Math.PI * t) - 1);\n}\nfunction sineIn(t) {\n    const v = Math.cos(t * Math.PI * 0.5);\n    if (Math.abs(v) < 1e-14)\n        return 1;\n    else\n        return 1 - v;\n}\nfunction sineOut(t) {\n    return Math.sin((t * Math.PI) / 2);\n}\n\nexport { backIn, backInOut, backOut, bounceIn, bounceInOut, bounceOut, circIn, circInOut, circOut, cubicIn, cubicInOut, cubicOut, elasticIn, elasticInOut, elasticOut, expoIn, expoInOut, expoOut, quadIn, quadInOut, quadOut, quartIn, quartInOut, quartOut, quintIn, quintInOut, quintOut, sineIn, sineInOut, sineOut };\n","import { cubicOut, cubicInOut } from '../easing';\nimport { is_function, assign } from '../internal';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\n\nfunction fade(node, { delay = 0, duration = 400 }) {\n    const o = +getComputedStyle(node).opacity;\n    return {\n        delay,\n        duration,\n        css: t => `opacity: ${t * o}`\n    };\n}\nfunction fly(node, { delay = 0, duration = 400, easing = cubicOut, x = 0, y = 0, opacity = 0 }) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `\n\t\t\ttransform: ${transform} translate(${(1 - t) * x}px, ${(1 - t) * y}px);\n\t\t\topacity: ${target_opacity - (od * u)}`\n    };\n}\nfunction slide(node, { delay = 0, duration = 400, easing = cubicOut }) {\n    const style = getComputedStyle(node);\n    const opacity = +style.opacity;\n    const height = parseFloat(style.height);\n    const padding_top = parseFloat(style.paddingTop);\n    const padding_bottom = parseFloat(style.paddingBottom);\n    const margin_top = parseFloat(style.marginTop);\n    const margin_bottom = parseFloat(style.marginBottom);\n    const border_top_width = parseFloat(style.borderTopWidth);\n    const border_bottom_width = parseFloat(style.borderBottomWidth);\n    return {\n        delay,\n        duration,\n        easing,\n        css: t => `overflow: hidden;` +\n            `opacity: ${Math.min(t * 20, 1) * opacity};` +\n            `height: ${t * height}px;` +\n            `padding-top: ${t * padding_top}px;` +\n            `padding-bottom: ${t * padding_bottom}px;` +\n            `margin-top: ${t * margin_top}px;` +\n            `margin-bottom: ${t * margin_bottom}px;` +\n            `border-top-width: ${t * border_top_width}px;` +\n            `border-bottom-width: ${t * border_bottom_width}px;`\n    };\n}\nfunction scale(node, { delay = 0, duration = 400, easing = cubicOut, start = 0, opacity = 0 }) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const sd = 1 - start;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_t, u) => `\n\t\t\ttransform: ${transform} scale(${1 - (sd * u)});\n\t\t\topacity: ${target_opacity - (od * u)}\n\t\t`\n    };\n}\nfunction draw(node, { delay = 0, speed, duration, easing = cubicInOut }) {\n    const len = node.getTotalLength();\n    if (duration === undefined) {\n        if (speed === undefined) {\n            duration = 800;\n        }\n        else {\n            duration = len / speed;\n        }\n    }\n    else if (typeof duration === 'function') {\n        duration = duration(len);\n    }\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `stroke-dasharray: ${t * len} ${u * len}`\n    };\n}\nfunction crossfade(_a) {\n    var { fallback } = _a, defaults = __rest(_a, [\"fallback\"]);\n    const to_receive = new Map();\n    const to_send = new Map();\n    function crossfade(from, node, params) {\n        const { delay = 0, duration = d => Math.sqrt(d) * 30, easing = cubicOut } = assign(assign({}, defaults), params);\n        const to = node.getBoundingClientRect();\n        const dx = from.left - to.left;\n        const dy = from.top - to.top;\n        const dw = from.width / to.width;\n        const dh = from.height / to.height;\n        const d = Math.sqrt(dx * dx + dy * dy);\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        const opacity = +style.opacity;\n        return {\n            delay,\n            duration: is_function(duration) ? duration(d) : duration,\n            easing,\n            css: (t, u) => `\n\t\t\t\topacity: ${t * opacity};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${transform} translate(${u * dx}px,${u * dy}px) scale(${t + (1 - t) * dw}, ${t + (1 - t) * dh});\n\t\t\t`\n        };\n    }\n    function transition(items, counterparts, intro) {\n        return (node, params) => {\n            items.set(params.key, {\n                rect: node.getBoundingClientRect()\n            });\n            return () => {\n                if (counterparts.has(params.key)) {\n                    const { rect } = counterparts.get(params.key);\n                    counterparts.delete(params.key);\n                    return crossfade(rect, node, params);\n                }\n                // if the node is disappearing altogether\n                // (i.e. wasn't claimed by the other list)\n                // then we need to supply an outro\n                items.delete(params.key);\n                return fallback && fallback(node, params, intro);\n            };\n        };\n    }\n    return [\n        transition(to_send, to_receive, false),\n        transition(to_receive, to_send, true)\n    ];\n}\n\nexport { crossfade, draw, fade, fly, scale, slide };\n","import { writable } from '../store';\nimport { now, loop, assign } from '../internal';\nimport { linear } from '../easing';\n\nfunction is_date(obj) {\n    return Object.prototype.toString.call(obj) === '[object Date]';\n}\n\nfunction tick_spring(ctx, last_value, current_value, target_value) {\n    if (typeof current_value === 'number' || is_date(current_value)) {\n        // @ts-ignore\n        const delta = target_value - current_value;\n        // @ts-ignore\n        const velocity = (current_value - last_value) / (ctx.dt || 1 / 60); // guard div by 0\n        const spring = ctx.opts.stiffness * delta;\n        const damper = ctx.opts.damping * velocity;\n        const acceleration = (spring - damper) * ctx.inv_mass;\n        const d = (velocity + acceleration) * ctx.dt;\n        if (Math.abs(d) < ctx.opts.precision && Math.abs(delta) < ctx.opts.precision) {\n            return target_value; // settled\n        }\n        else {\n            ctx.settled = false; // signal loop to keep ticking\n            // @ts-ignore\n            return is_date(current_value) ?\n                new Date(current_value.getTime() + d) : current_value + d;\n        }\n    }\n    else if (Array.isArray(current_value)) {\n        // @ts-ignore\n        return current_value.map((_, i) => tick_spring(ctx, last_value[i], current_value[i], target_value[i]));\n    }\n    else if (typeof current_value === 'object') {\n        const next_value = {};\n        for (const k in current_value)\n            // @ts-ignore\n            next_value[k] = tick_spring(ctx, last_value[k], current_value[k], target_value[k]);\n        // @ts-ignore\n        return next_value;\n    }\n    else {\n        throw new Error(`Cannot spring ${typeof current_value} values`);\n    }\n}\nfunction spring(value, opts = {}) {\n    const store = writable(value);\n    const { stiffness = 0.15, damping = 0.8, precision = 0.01 } = opts;\n    let last_time;\n    let task;\n    let current_token;\n    let last_value = value;\n    let target_value = value;\n    let inv_mass = 1;\n    let inv_mass_recovery_rate = 0;\n    let cancel_task = false;\n    /* eslint-disable @typescript-eslint/no-use-before-define */\n    function set(new_value, opts = {}) {\n        target_value = new_value;\n        const token = current_token = {};\n        if (opts.hard || (spring.stiffness >= 1 && spring.damping >= 1)) {\n            cancel_task = true; // cancel any running animation\n            last_time = now();\n            last_value = value;\n            store.set(value = target_value);\n            return new Promise(f => f()); // fulfil immediately\n        }\n        else if (opts.soft) {\n            const rate = opts.soft === true ? .5 : +opts.soft;\n            inv_mass_recovery_rate = 1 / (rate * 60);\n            inv_mass = 0; // infinite mass, unaffected by spring forces\n        }\n        if (!task) {\n            last_time = now();\n            cancel_task = false;\n            task = loop(now => {\n                if (cancel_task) {\n                    cancel_task = false;\n                    task = null;\n                    return false;\n                }\n                inv_mass = Math.min(inv_mass + inv_mass_recovery_rate, 1);\n                const ctx = {\n                    inv_mass,\n                    opts: spring,\n                    settled: true,\n                    dt: (now - last_time) * 60 / 1000\n                };\n                const next_value = tick_spring(ctx, last_value, value, target_value);\n                last_time = now;\n                last_value = value;\n                store.set(value = next_value);\n                if (ctx.settled)\n                    task = null;\n                return !ctx.settled;\n            });\n        }\n        return new Promise(fulfil => {\n            task.promise.then(() => {\n                if (token === current_token)\n                    fulfil();\n            });\n        });\n    }\n    /* eslint-enable @typescript-eslint/no-use-before-define */\n    const spring = {\n        set,\n        update: (fn, opts) => set(fn(target_value, value), opts),\n        subscribe: store.subscribe,\n        stiffness,\n        damping,\n        precision\n    };\n    return spring;\n}\n\nfunction get_interpolator(a, b) {\n    if (a === b || a !== a)\n        return () => a;\n    const type = typeof a;\n    if (type !== typeof b || Array.isArray(a) !== Array.isArray(b)) {\n        throw new Error('Cannot interpolate values of different type');\n    }\n    if (Array.isArray(a)) {\n        const arr = b.map((bi, i) => {\n            return get_interpolator(a[i], bi);\n        });\n        return t => arr.map(fn => fn(t));\n    }\n    if (type === 'object') {\n        if (!a || !b)\n            throw new Error('Object cannot be null');\n        if (is_date(a) && is_date(b)) {\n            a = a.getTime();\n            b = b.getTime();\n            const delta = b - a;\n            return t => new Date(a + t * delta);\n        }\n        const keys = Object.keys(b);\n        const interpolators = {};\n        keys.forEach(key => {\n            interpolators[key] = get_interpolator(a[key], b[key]);\n        });\n        return t => {\n            const result = {};\n            keys.forEach(key => {\n                result[key] = interpolators[key](t);\n            });\n            return result;\n        };\n    }\n    if (type === 'number') {\n        const delta = b - a;\n        return t => a + t * delta;\n    }\n    throw new Error(`Cannot interpolate ${type} values`);\n}\nfunction tweened(value, defaults = {}) {\n    const store = writable(value);\n    let task;\n    let target_value = value;\n    function set(new_value, opts) {\n        target_value = new_value;\n        let previous_task = task;\n        let started = false;\n        let { delay = 0, duration = 400, easing = linear, interpolate = get_interpolator } = assign(assign({}, defaults), opts);\n        const start = now() + delay;\n        let fn;\n        task = loop(now => {\n            if (now < start)\n                return true;\n            if (!started) {\n                fn = interpolate(value, new_value);\n                if (typeof duration === 'function')\n                    duration = duration(value, new_value);\n                started = true;\n            }\n            if (previous_task) {\n                previous_task.abort();\n                previous_task = null;\n            }\n            const elapsed = now - start;\n            if (elapsed > duration) {\n                store.set(value = new_value);\n                return false;\n            }\n            // @ts-ignore\n            store.set(value = fn(easing(elapsed / duration)));\n            return true;\n        });\n        return task.promise;\n    }\n    return {\n        set,\n        update: (fn, opts) => set(fn(target_value, value), opts),\n        subscribe: store.subscribe\n    };\n}\n\nexport { spring, tweened };\n","<script>\nimport { format } from 'd3-format';\nimport { slide } from 'svelte/transition';\nimport  { tweened } from 'svelte/motion';\nimport { cubicOut } from 'svelte/easing';\nimport { getContext } from 'svelte'\nimport STORE from './store';\nexport let id;\nexport let value;\n\n// this component will either look at the passed-in props for onRandomize\n// and onDelete, or it will look at the context, or it will be undefined.\nexport let onRandomize = getContext('randomizeNumber');\nexport let onDelete = getContext('deleteRandomNumber');\n\nconst randomizeNumber = () => onRandomize(id)\nconst deleteNumber = () => onDelete(id)\n\n// create a tween which gracefully spins between previous and next values.\nconst tweenedNumber = tweened(0, {duration: 500, easing: cubicOut});\n$: tweenedNumber.set(value)\n\nconst fm = format(',.2')\n\n</script>\n\n<style>\n\n\n.list-container {\n    display: grid;\n    grid-template-columns: 50px 200px 100px 100px;\n    grid-column-gap: 20px;\n}\n\n.list-container div:first-child {\n    text-align: right;\n}\n\n</style>\n\n<li transition:slide={{duration:200}}>\n    <div class=list-container>\n        <div>{fm($tweenedNumber)}</div>\n        <div>\n            <svg width=\"100\" height=\"20\">\n                <rect x=0 y=0 height=20 width={$tweenedNumber} fill=lightgray />\n            </svg>\n        </div>\n        <div>\n            <button on:click={randomizeNumber}>randomize</button>\n        </div>\n        <div>\n            <button on:click={deleteNumber}>delete</button>\n        </div>\n    </div>\n</li>","<script>\nimport { setContext } from 'svelte';\nimport STORE, { connect, addRandomNumber, randomizeNumber, deleteRandomNumber} from './store'\nimport RandomNumber from './RandomNumber.svelte'\n\n// let us set the context for the children. Take a look at how RandomNumber\n// consumes the context here to get the connected actions.\nsetContext('randomizeNumber', connect(randomizeNumber));\nsetContext('deleteRandomNumber', connect(deleteRandomNumber))\n\nconst add = connect(addRandomNumber)\n\n</script>\n\n<style>\n\nul {\n    list-style-type: none;\n    margin:0;\n    padding:0;\n}\n\n</style>\n\n<button on:click={add}>+ random number</button>\n\n<ul>\n    {#each $STORE.randomNumbers as {id, value}, i (id)}\n        <RandomNumber id={id} value={value} />\n    {/each}\n</ul>","<script>\n\nimport Selector from './Selector.svelte'\nimport RandomNumberList from './RandomNumberList.svelte'\nimport STORE, {dispatch, options, changeOS, changeChannel, queryString } from './store'\n\n// import telemetry from './data/telemetry'\n\n// $: console.log($telemetry)\n\nfunction updateQueryString(value) {\n    if (history.pushState) {\n        const newurl = window.location.protocol + \"//\" + window.location.host + window.location.pathname + `?${$queryString}`;\n        window.history.pushState({path:newurl},'', newurl);\n    }\n}\n\n$: updateQueryString($queryString);\n\n</script>\n\n<style>\nmain {\n    width: 700px;\n    margin: auto;\n}\n\nh1 {\n    text-transform: uppercase;\n}\n</style>\n\n<main>\n    <h1>Using Immer to make a global store</h1>\n\n    <p>\n        This repository uses Immer to produce new states in one single global $STORE object.\n        Atomic updates to $STORE are handled through a produce function.\n    </p>\n\n    <p>\n        Try playing with these selectors. Take a look at the query string in the\n        URL. Read the source on Github.\n    </p>\n\n    <Selector label={\"os\"} current={$STORE.os} onChange={(os) => dispatch(changeOS(os))} options={options.os}  />\n    <!-- lets check that other parts of the store don't constantly fire off if the $STORE updates -->\n    <Selector label={\"channel\"} current={$STORE.channel} onChange={(channel) => dispatch(changeChannel(channel))} options={options.channel}  />\n    <RandomNumberList />\n</main>","import App from './App.svelte';\n\nconst app = new App({\n\ttarget: document.body,\n\tprops: {\n\t\tname: 'world'\n\t}\n});\n\nexport default app;"],"names":["noop","identity","x","assign","tar","src","k","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","subscribe","component","store","callback","unsub","$$","on_destroy","push","unsubscribe","now","window","performance","Date","raf","cb","requestAnimationFrame","tasks","Set","stylesheet","running","run_tasks","task","delete","size","loop","promise","Promise","fulfil","add","[object Object]","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","element","name","document","createElement","svg_element","createElementNS","text","data","createTextNode","space","listen","event","handler","options","addEventListener","removeEventListener","attr","attribute","value","removeAttribute","setAttribute","set_data","select_option","select","i","length","option","__value","selected","current_component","active","current_rules","create_rule","duration","delay","ease","uid","step","keyframes","p","t","rule","str","hash","charCodeAt","style","head","sheet","insertRule","cssRules","animation","delete_rule","split","filter","anim","indexOf","join","deleteRule","set_current_component","get_current_component","Error","setContext","key","context","set","getContext","get","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","resolve","update_scheduled","add_render_callback","flush","seen_callbacks","shift","update","pop","has","fragment","dirty","before_update","ctx","after_update","dispatch","direction","kind","dispatchEvent","type","detail","e","createEvent","initCustomEvent","custom_event","outroing","outros","transition_in","block","local","transition_out","o","c","d","create_bidirectional_transition","params","intro","config","running_program","pending_program","animation_name","clear_animation","init","program","Math","abs","start","end","group","go","easing","tick","css","r","then","outro_and_destroy_block","lookup","mount_component","on_mount","m","new_on_destroy","map","destroy_component","detaching","make_dirty","instance","create_fragment","not_equal","prop_names","parent_component","props","bound","Map","callbacks","ready","hydrate","l","Array","from","childNodes","SvelteComponent","this","$destroy","index","splice","label","current","iterations","onChange","selected_option","querySelector","defaultEqualityCheck","obj","memoize","_len","arguments","memoizeOptions","_key","createSelectorCreator","func","equalityCheck","undefined","lastArgs","lastResult","prev","next","areArgumentsShallowlyEqual","apply","writable","stop","subscribers","new_value","s","invalidate","subscriber","derived","stores","initial_value","single","isArray","stores_array","auto","invalidators","inited","values","pending","cleanup","sync","result","unsubscribers","NOTHING","Symbol","DRAFTABLE","for","DRAFT_STATE","isDraft","isDraftable","proto","getPrototypeOf","prototype","constructor","ownKeys","Reflect","getOwnPropertySymbols","getOwnPropertyNames","concat","shallowCopy","base","invokeGetters","slice","clone","desc","getOwnPropertyDescriptor","call","enumerable","defineProperty","configurable","each","isEnumerable","prop","hasOwnProperty","is","y","ImmerScope","parent","drafts","canAutoFreeze","patches","revoke","draft","usePatches","patchListener","inversePatches","leave","enter","descriptors","createProxy","clonePotentialDraft","state","assertUnrevoked","peek","source","finalizing","prepareCopy","copy","assigned","modified","markChanged","proxyProperty","scope","finalized","revoke$1","revoked","JSON","stringify","markChangesSweep","hasArrayChanges","hasObjectChanges","keys","baseValue","state$1","descriptor","legacyProxy","freeze","willFinalize","isReplaced","markChangesRecursively","object","i$1","i$2","createProxy$1","ref","Proxy","revocable","arrayTraps","objectTraps","proxy","source$1","peek$1","isUnchanged","markChanged$1","deleteProperty","owner","setPrototypeOf","isNaN","parseInt","modernProxy","generatePatches","basePath","assign$1","delta","path","op","useRemove","replaceCount","path$1","generateArrayPatches","assignedValue","origValue","generateObjectPatches","applyPatches","patch","configDefaults","useProxies","autoFreeze","process","env","NODE_ENV","onAssign","onDelete","onCopy","Immer","setUseProxies","produce","bind","recipe","this$1","defaultBase","self","args","len","hasError","processResult","error","createDraft","isManual","finishDraft","setAutoFreeze","baseDraft","finalize","isFrozen","finalizeTree","root","rootPath","needPatches","finalizeProperty","isDraftProp","immer","product","channel","os","randomNumbers","STORE","getNextId","arr","max","it","id","connect","changeChannel","ch","changeOS","randomNumber","random","addRandomNumber","randomizeNumber","ind","findIndex","deleteRandomNumber","serverParams","$st","queryString","$params","sort","toExponential","coefficient","prefixExponent","re","formatSpecifier","specifier","FormatSpecifier","match","exec","fill","align","sign","symbol","zero","width","comma","precision","trim","formatDecimal","exponent","toString","%","toFixed","round","f","g","toPrecision","formatRounded","min","floor","n","X","toUpperCase","locale","format","prefixes","grouping","thousands","j","substring","reverse","currency","decimal","numerals","replace","formatNumerals","percent","newFormat","formatTypes","prefix","test","toLowerCase","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","out","i1","i0","formatTrim","Infinity","padding","formatPrefix","NaN","pow","cubicOut","slide","getComputedStyle","opacity","height","parseFloat","padding_top","paddingTop","padding_bottom","paddingBottom","margin_top","marginTop","margin_bottom","marginBottom","border_top_width","borderTopWidth","border_bottom_width","borderBottomWidth","is_date","get_interpolator","bi","getTime","interpolators","fm","$tweenedNumber","deleteNumber","onRandomize","tweenedNumber","defaults","target_value","opts","previous_task","started","linear","interpolate","abort","elapsed","tweened","formatLocale","$STORE","old_blocks","changed","get_key","dynamic","list","destroy","create_each_block","get_context","old_indexes","new_blocks","new_lookup","deltas","child_ctx","will_move","did_move","first","new_block","old_block","new_key","old_key","history","pushState","newurl","location","protocol","host","pathname","$queryString","updateQueryString","body"],"mappings":"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"}